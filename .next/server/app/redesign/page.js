(()=>{var e={};e.id=917,e.ids=[917],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},83845:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c}),a(17747),a(13787),a(35866);var r=a(23191),n=a(88716),s=a(37922),i=a.n(s),l=a(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let c=["",{children:["redesign",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,17747)),"C:\\Users\\RICKY DEY\\OneDrive\\Desktop\\interio\\interio\\Interior_work\\app\\redesign\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,13787)),"C:\\Users\\RICKY DEY\\OneDrive\\Desktop\\interio\\interio\\Interior_work\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\RICKY DEY\\OneDrive\\Desktop\\interio\\interio\\Interior_work\\app\\redesign\\page.tsx"],u="/redesign/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/redesign/page",pathname:"/redesign",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},28632:(e,t,a)=>{Promise.resolve().then(a.bind(a,39499))},39499:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var r=a(10326),n=a(17577),s=a(90772),i=a(34789),l=a(77109);function o(){let{data:e}=(0,l.useSession)(),{toast:t}=(0,i.pm)(),a=(0,n.useRef)(null),[o,c]=(0,n.useState)(""),[d,u]=(0,n.useState)(null),[m,p]=(0,n.useState)(""),[g,x]=(0,n.useState)(""),[h,f]=(0,n.useState)(""),[v,b]=(0,n.useState)(""),[j,y]=(0,n.useState)(!1);if(!e)return(0,r.jsxs)("div",{className:"container mx-auto max-w-4xl py-10 text-center",children:[r.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Redesign Your Room"}),r.jsx("p",{className:"mb-6",children:"Please sign in to use this feature"}),r.jsx(s.z,{onClick:()=>(0,l.signIn)("google"),children:"Sign in with Google"})]});let w=e=>{x(e)},C=async()=>{if(!d||!g){t({title:"Error",description:"Please select an image and choose a transformation",variant:"destructive"});return}y(!0);let e=new FormData;e.append("image",d),e.append("feature",g),h&&e.append("extra_prompt",h);try{let a=await fetch("http://localhost:8001/transform",{method:"POST",body:e});if(!a.ok)throw Error("Image transformation failed");let r=await a.blob(),n=URL.createObjectURL(r);p(n),t({title:"Success",description:"Image generated successfully!"})}catch(e){console.error(e),t({title:"Error",description:"Failed to generate image",variant:"destructive"})}finally{y(!1)}},P=async()=>{if(!v){t({title:"Error",description:"Please enter a prompt for image generation",variant:"destructive"});return}y(!0);let e=new FormData;e.append("prompt",v),e.append("feature","artistic");try{let a=await fetch("http://localhost:8005/generate",{method:"POST",body:e});if(!a.ok)throw Error("Text-to-image generation failed");let r=await a.blob(),n=URL.createObjectURL(r);p(n),t({title:"Success",description:"Image generated successfully!"})}catch(e){console.error(e),t({title:"Error",description:"Failed to generate image",variant:"destructive"})}finally{y(!1)}};return(0,r.jsxs)("div",{className:"container mx-auto max-w-4xl py-10",children:[r.jsx("h1",{className:"text-4xl font-bold text-center mb-8",children:"Redesign Your Room"}),(0,r.jsxs)("div",{className:"flex flex-col items-center gap-6",children:[r.jsx("input",{type:"file",accept:"image/*",ref:a,onChange:e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0];u(t),c(t.name)}},className:"hidden"}),r.jsx(s.z,{onClick:()=>a.current?.click(),className:"mb-4",children:o?"Change File":"Choose File"}),o&&(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Selected File: ",o]}),r.jsx("div",{className:"flex flex-wrap gap-4 justify-center",children:[{value:"color change",label:"Color Change"},{value:"refresh",label:"Refresh"},{value:"maximize",label:"Maximize"},{value:"redesign",label:"Redesign"},{value:"functional change",label:"Functional Change"},{value:"style stealer",label:"Style Stealer"},{value:"image quality enhancer",label:"Image Quality Enhancer"}].map(e=>r.jsx(s.z,{onClick:()=>w(e.value),variant:g===e.value?"default":"outline",className:"capitalize",children:e.label},e.value))}),g&&r.jsx("input",{type:"text",placeholder:"Enter additional details (optional)",value:h,onChange:e=>f(e.target.value),className:"border rounded p-2 w-full max-w-md"}),r.jsx(s.z,{onClick:C,disabled:j,className:"mt-4",children:j?"Processing...":"Apply Transformation"})]}),r.jsx("hr",{className:"my-10"}),(0,r.jsxs)("div",{className:"flex flex-col items-center gap-6",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Text to Image Generation"}),r.jsx("input",{type:"text",placeholder:"Enter prompt for image generation",value:v,onChange:e=>b(e.target.value),className:"border rounded p-2 w-full max-w-md"}),r.jsx(s.z,{onClick:P,disabled:j,className:"mt-4",children:j?"Processing...":"Generate Image"})]}),m&&(0,r.jsxs)("div",{className:"mt-8 flex flex-col items-center",children:[r.jsx("img",{src:m,alt:"Generated Transformation",className:"max-w-md rounded shadow-lg"}),r.jsx("a",{href:m,download:"generated_artistic.jpeg",className:"mt-4 inline-block bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded",children:"Download Image"})]})]})}},17747:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(68570).createProxy)(String.raw`C:\Users\RICKY DEY\OneDrive\Desktop\interio\interio\Interior_work\app\redesign\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[276,817,125],()=>a(83845));module.exports=r})();