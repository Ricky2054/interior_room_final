(()=>{var e={};e.id=290,e.ids=[290],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},86624:e=>{"use strict";e.exports=require("querystring")},76162:e=>{"use strict";e.exports=require("stream")},74026:e=>{"use strict";e.exports=require("string_decoder")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},6005:e=>{"use strict";e.exports=require("node:crypto")},58771:(e,t,r)=>{"use strict";r.r(t),r.d(t,{originalPathname:()=>w,patchFetch:()=>m,requestAsyncStorage:()=>b,routeModule:()=>p,serverHooks:()=>g,staticGenerationAsyncStorage:()=>y});var n={};r.r(n),r.d(n,{POST:()=>h});var i=r(49303),o=r(88716),l=r(60670),a=r(87070),s=r(9185),u=r.n(s),d=r(75571),c=r(90455);let f=new(u())({auth:process.env.REPLICATE_API_TOKEN});async function h(e){if(!await (0,d.getServerSession)(c.L))return new a.NextResponse("Unauthorized",{status:401});try{let t;let{image:r,style:n,model:i}=await e.json();return"stable-diffusion"===i&&(t=await f.run("stability-ai/sdxl:39ed52f2a78e934b3ba6e2a89f5b1c712de7dfea535525255b1aa35c5565e08b",{input:{image:r,prompt:`Transform this room into a ${n} style room`,negative_prompt:"bad quality, blurry"}})),a.NextResponse.json({url:t})}catch(e){return console.error(e),new a.NextResponse("Internal Error",{status:500})}}let p=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/generate/route",pathname:"/api/generate",filename:"route",bundlePath:"app/api/generate/route"},resolvedPagePath:"C:\\Users\\RICKY DEY\\OneDrive\\Desktop\\interio\\interio\\Interior_work\\app\\api\\generate\\route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:b,staticGenerationAsyncStorage:y,serverHooks:g}=p,w="/api/generate/route";function m(){return(0,l.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:y})}},90455:(e,t,r)=>{"use strict";r.d(t,{L:()=>n});let n={providers:[(0,r(77234).Z)({clientId:process.env.GOOGLE_CLIENT_ID||"",clientSecret:process.env.GOOGLE_CLIENT_SECRET||""})],pages:{signIn:"/auth/signin"},callbacks:{jwt:async({token:e,user:t})=>(t&&(e.sub=t.id),e),session:async({session:e,token:t})=>(e.user&&(e.user.id=t.sub),e)}}},54769:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4384);class AbortSignal extends n.EventTarget{constructor(){throw super(),TypeError("AbortSignal cannot be constructed directly")}get aborted(){let e=i.get(this);if("boolean"!=typeof e)throw TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return e}}n.defineEventAttribute(AbortSignal.prototype,"abort");let i=new WeakMap;Object.defineProperties(AbortSignal.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(AbortSignal.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class o{constructor(){l.set(this,function(){let e=Object.create(AbortSignal.prototype);return n.EventTarget.call(e),i.set(e,!1),e}())}get signal(){return a(this)}abort(){var e;e=a(this),!1===i.get(e)&&(i.set(e,!0),e.dispatchEvent({type:"abort"}))}}let l=new WeakMap;function a(e){let t=l.get(e);if(null==t)throw TypeError(`Expected 'this' to be an 'AbortController' object, but got ${null===e?"null":typeof e}`);return t}Object.defineProperties(o.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(o.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),t.AbortController=o,t.AbortSignal=AbortSignal,t.default=o,e.exports=o,e.exports.AbortController=e.exports.default=o,e.exports.AbortSignal=AbortSignal},4384:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=new WeakMap,n=new WeakMap;function i(e){let t=r.get(e);return console.assert(null!=t,"'this' is expected an Event object, but got",e),t}function o(e){if(null!=e.passiveListener){"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",e.passiveListener);return}e.event.cancelable&&(e.canceled=!0,"function"==typeof e.event.preventDefault&&e.event.preventDefault())}function l(e,t){r.set(this,{eventTarget:e,event:t,eventPhase:2,currentTarget:e,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:t.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let n=Object.keys(t);for(let e=0;e<n.length;++e){let t=n[e];t in this||Object.defineProperty(this,t,a(t))}}function a(e){return{get(){return i(this).event[e]},set(t){i(this).event[e]=t},configurable:!0,enumerable:!0}}function s(e,t){i(e).passiveListener=t}l.prototype={get type(){return i(this).event.type},get target(){return i(this).eventTarget},get currentTarget(){return i(this).currentTarget},composedPath(){let e=i(this).currentTarget;return null==e?[]:[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return i(this).eventPhase},stopPropagation(){let e=i(this);e.stopped=!0,"function"==typeof e.event.stopPropagation&&e.event.stopPropagation()},stopImmediatePropagation(){let e=i(this);e.stopped=!0,e.immediateStopped=!0,"function"==typeof e.event.stopImmediatePropagation&&e.event.stopImmediatePropagation()},get bubbles(){return!!i(this).event.bubbles},get cancelable(){return!!i(this).event.cancelable},preventDefault(){o(i(this))},get defaultPrevented(){return i(this).canceled},get composed(){return!!i(this).event.composed},get timeStamp(){return i(this).timeStamp},get srcElement(){return i(this).eventTarget},get cancelBubble(){return i(this).stopped},set cancelBubble(value){if(!value)return;let e=i(this);e.stopped=!0,"boolean"==typeof e.event.cancelBubble&&(e.event.cancelBubble=!0)},get returnValue(){return!i(this).canceled},set returnValue(value){value||o(i(this))},initEvent(){}},Object.defineProperty(l.prototype,"constructor",{value:l,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.Event&&(Object.setPrototypeOf(l.prototype,window.Event.prototype),n.set(window.Event.prototype,l));let u=new WeakMap;function d(e){return null!==e&&"object"==typeof e}function c(e){let t=u.get(e);if(null==t)throw TypeError("'this' is expected an EventTarget object, but got another value.");return t}function f(e,t){Object.defineProperty(e,`on${t}`,{get(){let e=c(this).get(t);for(;null!=e;){if(3===e.listenerType)return e.listener;e=e.next}return null},set(e){"function"==typeof e||d(e)||(e=null);let r=c(this),n=null,i=r.get(t);for(;null!=i;)3===i.listenerType?null!==n?n.next=i.next:null!==i.next?r.set(t,i.next):r.delete(t):n=i,i=i.next;if(null!==e){let i={listener:e,listenerType:3,passive:!1,once:!1,next:null};null===n?r.set(t,i):n.next=i}},configurable:!0,enumerable:!0})}function h(e){function t(){p.call(this)}t.prototype=Object.create(p.prototype,{constructor:{value:t,configurable:!0,writable:!0}});for(let r=0;r<e.length;++r)f(t.prototype,e[r]);return t}function p(){if(this instanceof p){u.set(this,new Map);return}if(1==arguments.length&&Array.isArray(arguments[0]))return h(arguments[0]);if(arguments.length>0){let e=Array(arguments.length);for(let t=0;t<arguments.length;++t)e[t]=arguments[t];return h(e)}throw TypeError("Cannot call a class as a function")}p.prototype={addEventListener(e,t,r){if(null==t)return;if("function"!=typeof t&&!d(t))throw TypeError("'listener' should be a function or an object.");let n=c(this),i=d(r),o=(i?r.capture:r)?1:2,l={listener:t,listenerType:o,passive:i&&!!r.passive,once:i&&!!r.once,next:null},a=n.get(e);if(void 0===a){n.set(e,l);return}let s=null;for(;null!=a;){if(a.listener===t&&a.listenerType===o)return;s=a,a=a.next}s.next=l},removeEventListener(e,t,r){if(null==t)return;let n=c(this),i=(d(r)?r.capture:r)?1:2,o=null,l=n.get(e);for(;null!=l;){if(l.listener===t&&l.listenerType===i){null!==o?o.next=l.next:null!==l.next?n.set(e,l.next):n.delete(e);return}o=l,l=l.next}},dispatchEvent(e){if(null==e||"string"!=typeof e.type)throw TypeError('"event.type" should be a string.');let t=c(this),r=e.type,o=t.get(r);if(null==o)return!0;let u=new(function e(t){if(null==t||t===Object.prototype)return l;let r=n.get(t);return null==r&&(r=function(e,t){let r=Object.keys(t);if(0===r.length)return e;function n(t,r){e.call(this,t,r)}n.prototype=Object.create(e.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(let o=0;o<r.length;++o){let l=r[o];if(!(l in e.prototype)){let e="function"==typeof Object.getOwnPropertyDescriptor(t,l).value;Object.defineProperty(n.prototype,l,e?function(e){return{value(){let t=i(this).event;return t[e].apply(t,arguments)},configurable:!0,enumerable:!0}}(l):a(l))}}return n}(e(Object.getPrototypeOf(t)),t),n.set(t,r)),r}(Object.getPrototypeOf(e)))(this,e),d=null;for(;null!=o;){if(o.once?null!==d?d.next=o.next:null!==o.next?t.set(r,o.next):t.delete(r):d=o,s(u,o.passive?o.listener:null),"function"==typeof o.listener)try{o.listener.call(this,u)}catch(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}else 3!==o.listenerType&&"function"==typeof o.listener.handleEvent&&o.listener.handleEvent(u);if(i(u).immediateStopped)break;o=o.next}return s(u,null),i(u).eventPhase=0,i(u).currentTarget=null,!u.defaultPrevented}},Object.defineProperty(p.prototype,"constructor",{value:p,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.EventTarget&&Object.setPrototypeOf(p.prototype,window.EventTarget.prototype),t.defineEventAttribute=f,t.EventTarget=p,t.default=p,e.exports=p,e.exports.EventTarget=e.exports.default=p,e.exports.defineEventAttribute=f},83806:e=>{e.exports=global.process},81799:(e,t,r)=>{"use strict";let n;let{SymbolDispose:i}=r(19472),{AbortError:o,codes:l}=r(42782),{isNodeStream:a,isWebStream:s,kControllerErrorFunction:u}=r(95975),d=r(90920),{ERR_INVALID_ARG_TYPE:c}=l,f=(e,t)=>{if("object"!=typeof e||!("aborted"in e))throw new c(t,"AbortSignal",e)};e.exports.addAbortSignal=function(t,r){if(f(t,"signal"),!a(r)&&!s(r))throw new c("stream",["ReadableStream","WritableStream","Stream"],r);return e.exports.addAbortSignalNoValidate(t,r)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!=typeof e||!("aborted"in e))return t;let l=a(t)?()=>{t.destroy(new o(void 0,{cause:e.reason}))}:()=>{t[u](new o(void 0,{cause:e.reason}))};return e.aborted?l():d(t,(n=n||r(449).addAbortListener)(e,l)[i]),t}},7726:(e,t,r)=>{"use strict";let{StringPrototypeSlice:n,SymbolIterator:i,TypedArrayPrototypeSet:o,Uint8Array:l}=r(19472),{Buffer:a}=r(78893),{inspect:s}=r(449);e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){let t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;let e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,r=""+t.data;for(;null!==(t=t.next);)r+=e+t.data;return r}concat(e){if(0===this.length)return a.alloc(0);let t=a.allocUnsafe(e>>>0),r=this.head,n=0;for(;r;)o(t,r.data,n),n+=r.data.length,r=r.next;return t}consume(e,t){let r=this.head.data;if(e<r.length){let t=r.slice(0,e);return this.head.data=r.slice(e),t}return e===r.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[i](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",r=this.head,i=0;do{let o=r.data;if(e>o.length)t+=o,e-=o.length;else{e===o.length?(t+=o,++i,r.next?this.head=r.next:this.head=this.tail=null):(t+=n(o,0,e),this.head=r,r.data=n(o,e));break}++i}while(null!==(r=r.next));return this.length-=i,t}_getBuffer(e){let t=a.allocUnsafe(e),r=e,n=this.head,i=0;do{let a=n.data;if(e>a.length)o(t,a,r-e),e-=a.length;else{e===a.length?(o(t,a,r-e),++i,n.next?this.head=n.next:this.head=this.tail=null):(o(t,new l(a.buffer,a.byteOffset,e),r-e),this.head=n,n.data=a.slice(e));break}++i}while(null!==(n=n.next));return this.length-=i,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return s(this,{...t,depth:0,customInspect:!1})}}},61442:(e,t,r)=>{"use strict";let{pipeline:n}=r(89121),i=r(6011),{destroyer:o}=r(63346),{isNodeStream:l,isReadable:a,isWritable:s,isWebStream:u,isTransformStream:d,isWritableStream:c,isReadableStream:f}=r(95975),{AbortError:h,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:b}}=r(42782),y=r(90920);e.exports=function(...e){let t,r,g,w,m;if(0===e.length)throw new b("streams");if(1===e.length)return i.from(e[0]);let _=[...e];if("function"==typeof e[0]&&(e[0]=i.from(e[0])),"function"==typeof e[e.length-1]){let t=e.length-1;e[t]=i.from(e[t])}for(let t=0;t<e.length;++t)if(l(e[t])||u(e[t])){if(t<e.length-1&&!(a(e[t])||f(e[t])||d(e[t])))throw new p(`streams[${t}]`,_[t],"must be readable");if(t>0&&!(s(e[t])||c(e[t])||d(e[t])))throw new p(`streams[${t}]`,_[t],"must be writable")}let v=e[0],S=n(e,function(e){let t=w;w=null,t?t(e):e?m.destroy(e):x||E||m.destroy()}),E=!!(s(v)||c(v)||d(v)),x=!!(a(S)||f(S)||d(S));if(m=new i({writableObjectMode:!!(null!=v&&v.writableObjectMode),readableObjectMode:!!(null!=S&&S.readableObjectMode),writable:E,readable:x}),E){if(l(v))m._write=function(e,r,n){v.write(e,r)?n():t=n},m._final=function(e){v.end(),r=e},v.on("drain",function(){if(t){let e=t;t=null,e()}});else if(u(v)){let e=(d(v)?v.writable:v).getWriter();m._write=async function(t,r,n){try{await e.ready,e.write(t).catch(()=>{}),n()}catch(e){n(e)}},m._final=async function(t){try{await e.ready,e.close().catch(()=>{}),r=t}catch(e){t(e)}}}y(d(S)?S.readable:S,()=>{if(r){let e=r;r=null,e()}})}if(x){if(l(S))S.on("readable",function(){if(g){let e=g;g=null,e()}}),S.on("end",function(){m.push(null)}),m._read=function(){for(;;){let e=S.read();if(null===e){g=m._read;return}if(!m.push(e))return}};else if(u(S)){let e=(d(S)?S.readable:S).getReader();m._read=async function(){for(;;)try{let{value:t,done:r}=await e.read();if(!m.push(t))return;if(r){m.push(null);return}}catch{return}}}}return m._destroy=function(e,n){e||null===w||(e=new h),g=null,t=null,r=null,null===w?n(e):(w=n,l(S)&&o(S,e))},m}},63346:(e,t,r)=>{"use strict";let n=r(83806),{aggregateTwoErrors:i,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:l}=r(42782),{Symbol:a}=r(19472),{kIsDestroyed:s,isDestroyed:u,isFinished:d,isServerRequest:c}=r(95975),f=a("kDestroy"),h=a("kConstruct");function p(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function b(e,t,r){let i=!1;function o(t){if(i)return;i=!0;let o=e._readableState,l=e._writableState;p(t,l,o),l&&(l.closed=!0),o&&(o.closed=!0),"function"==typeof r&&r(t),t?n.nextTick(y,e,t):n.nextTick(g,e)}try{e._destroy(t||null,o)}catch(e){o(e)}}function y(e,t){w(e,t),g(e)}function g(e){let t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!=r&&r.emitClose||null!=t&&t.emitClose)&&e.emit("close")}function w(e,t){let r=e._readableState,n=e._writableState;null!=n&&n.errorEmitted||null!=r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function m(e,t,r){let i=e._readableState,o=e._writableState;if(null!=o&&o.destroyed||null!=i&&i.destroyed)return this;null!=i&&i.autoDestroy||null!=o&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),i&&!i.errored&&(i.errored=t),r?n.nextTick(w,e,t):w(e,t))}function _(e){let t=!1;function r(r){if(t){m(e,null!=r?r:new o);return}t=!0;let i=e._readableState,l=e._writableState,a=l||i;i&&(i.constructed=!0),l&&(l.constructed=!0),a.destroyed?e.emit(f,r):r?m(e,r,!0):n.nextTick(v,e)}try{e._construct(e=>{n.nextTick(r,e)})}catch(e){n.nextTick(r,e)}}function v(e){e.emit(h)}function S(e){return(null==e?void 0:e.setHeader)&&"function"==typeof e.abort}function E(e){e.emit("close")}function x(e,t){e.emit("error",t),n.nextTick(E,e)}e.exports={construct:function(e,t){if("function"!=typeof e._construct)return;let r=e._readableState,i=e._writableState;r&&(r.constructed=!1),i&&(i.constructed=!1),e.once(h,t),e.listenerCount(h)>1||n.nextTick(_,e)},destroyer:function(e,t){!(!e||u(e))&&(t||d(e)||(t=new l),c(e)?(e.socket=null,e.destroy(t)):S(e)?e.abort():S(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(t):"function"==typeof e.close?e.close():t?n.nextTick(x,e,t):n.nextTick(E,e),e.destroyed||(e[s]=!0))},destroy:function(e,t){let r=this._readableState,n=this._writableState,o=n||r;return null!=n&&n.destroyed||null!=r&&r.destroyed?"function"==typeof t&&t():(p(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),o.constructed?b(this,e,t):this.once(f,function(r){b(this,i(r,e),t)})),this},undestroy:function(){let e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:m}},6011:(e,t,r)=>{"use strict";let n,i;let{ObjectDefineProperties:o,ObjectGetOwnPropertyDescriptor:l,ObjectKeys:a,ObjectSetPrototypeOf:s}=r(19472);e.exports=c;let u=r(36412),d=r(67973);s(c.prototype,u.prototype),s(c,u);{let e=a(d.prototype);for(let t=0;t<e.length;t++){let r=e[t];c.prototype[r]||(c.prototype[r]=d.prototype[r])}}function c(e){if(!(this instanceof c))return new c(e);u.call(this,e),d.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}function f(){return void 0===n&&(n={}),n}o(c.prototype,{writable:{__proto__:null,...l(d.prototype,"writable")},writableHighWaterMark:{__proto__:null,...l(d.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...l(d.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...l(d.prototype,"writableBuffer")},writableLength:{__proto__:null,...l(d.prototype,"writableLength")},writableFinished:{__proto__:null,...l(d.prototype,"writableFinished")},writableCorked:{__proto__:null,...l(d.prototype,"writableCorked")},writableEnded:{__proto__:null,...l(d.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...l(d.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),c.fromWeb=function(e,t){return f().newStreamDuplexFromReadableWritablePair(e,t)},c.toWeb=function(e){return f().newReadableWritablePairFromDuplex(e)},c.from=function(e){return i||(i=r(37342)),i(e,"body")}},37342:(e,t,r)=>{"use strict";let n=r(83806),i=r(78893),{isReadable:o,isWritable:l,isIterable:a,isNodeStream:s,isReadableNodeStream:u,isWritableNodeStream:d,isDuplexNodeStream:c,isReadableStream:f,isWritableStream:h}=r(95975),p=r(90920),{AbortError:b,codes:{ERR_INVALID_ARG_TYPE:y,ERR_INVALID_RETURN_VALUE:g}}=r(42782),{destroyer:w}=r(63346),m=r(6011),_=r(36412),v=r(67973),{createDeferredPromise:S}=r(449),E=r(18042),x=globalThis.Blob||i.Blob,T=void 0!==x?function(e){return e instanceof x}:function(e){return!1},A=globalThis.AbortController||r(54769).AbortController,{FunctionPrototypeCall:R}=r(19472);class j extends m{constructor(e){super(e),(null==e?void 0:e.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(null==e?void 0:e.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function k(e){let t,r,n,i,a;let s=e.readable&&"function"!=typeof e.readable.read?_.wrap(e.readable):e.readable,u=e.writable,d=!!o(s),c=!!l(u);function f(e){let t=i;i=null,t?t(e):e&&a.destroy(e)}return a=new j({readableObjectMode:!!(null!=s&&s.readableObjectMode),writableObjectMode:!!(null!=u&&u.writableObjectMode),readable:d,writable:c}),c&&(p(u,e=>{c=!1,e&&w(s,e),f(e)}),a._write=function(e,r,n){u.write(e,r)?n():t=n},a._final=function(e){u.end(),r=e},u.on("drain",function(){if(t){let e=t;t=null,e()}}),u.on("finish",function(){if(r){let e=r;r=null,e()}})),d&&(p(s,e=>{d=!1,e&&w(s,e),f(e)}),s.on("readable",function(){if(n){let e=n;n=null,e()}}),s.on("end",function(){a.push(null)}),a._read=function(){for(;;){let e=s.read();if(null===e){n=a._read;return}if(!a.push(e))return}}),a._destroy=function(e,o){e||null===i||(e=new b),n=null,t=null,r=null,null===i?o(e):(i=o,w(u,e),w(s,e))},a}e.exports=function e(t,r){if(c(t))return t;if(u(t))return k({readable:t});if(d(t))return k({writable:t});if(s(t))return k({writable:!1,readable:!1});if(f(t))return k({readable:_.fromWeb(t)});if(h(t))return k({writable:v.fromWeb(t)});if("function"==typeof t){let{value:e,write:i,final:o,destroy:l}=function(e){let{promise:t,resolve:r}=S(),i=new A,o=i.signal;return{value:e(async function*(){for(;;){let e=t;t=null;let{chunk:i,done:l,cb:a}=await e;if(n.nextTick(a),l)return;if(o.aborted)throw new b(void 0,{cause:o.reason});({promise:t,resolve:r}=S()),yield i}}(),{signal:o}),write(e,t,n){let i=r;r=null,i({chunk:e,done:!1,cb:n})},final(e){let t=r;r=null,t({done:!0,cb:e})},destroy(e,t){i.abort(),t(e)}}}(t);if(a(e))return E(j,e,{objectMode:!0,write:i,final:o,destroy:l});let s=null==e?void 0:e.then;if("function"==typeof s){let t;let r=R(s,e,e=>{if(null!=e)throw new g("nully","body",e)},e=>{w(t,e)});return t=new j({objectMode:!0,readable:!1,write:i,final(e){o(async()=>{try{await r,n.nextTick(e,null)}catch(t){n.nextTick(e,t)}})},destroy:l})}throw new g("Iterable, AsyncIterable or AsyncFunction",r,e)}if(T(t))return e(t.arrayBuffer());if(a(t))return E(j,t,{objectMode:!0,writable:!1});if(f(null==t?void 0:t.readable)&&h(null==t?void 0:t.writable))return j.fromWeb(t);if("object"==typeof(null==t?void 0:t.writable)||"object"==typeof(null==t?void 0:t.readable))return k({readable:null!=t&&t.readable?u(null==t?void 0:t.readable)?null==t?void 0:t.readable:e(t.readable):void 0,writable:null!=t&&t.writable?d(null==t?void 0:t.writable)?null==t?void 0:t.writable:e(t.writable):void 0});let i=null==t?void 0:t.then;if("function"==typeof i){let e;return R(i,t,t=>{null!=t&&e.push(t),e.push(null)},t=>{w(e,t)}),e=new j({objectMode:!0,writable:!1,read(){}})}throw new y(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},90920:(e,t,r)=>{let n;"use strict";let i=r(83806),{AbortError:o,codes:l}=r(42782),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_PREMATURE_CLOSE:s}=l,{kEmptyObject:u,once:d}=r(449),{validateAbortSignal:c,validateFunction:f,validateObject:h,validateBoolean:p}=r(11150),{Promise:b,PromisePrototypeThen:y,SymbolDispose:g}=r(19472),{isClosed:w,isReadable:m,isReadableNodeStream:_,isReadableStream:v,isReadableFinished:S,isReadableErrored:E,isWritable:x,isWritableNodeStream:T,isWritableStream:A,isWritableFinished:R,isWritableErrored:j,isNodeStream:k,willEmitClose:$,kIsClosedPromise:P}=r(95975),O=()=>{};function M(e,t,l){var p,b;if(2==arguments.length?(l=t,t=u):null==t?t=u:h(t,"options"),f(l,"callback"),c(t.signal,"options.signal"),l=d(l),v(e)||A(e))return function(e,t,l){let a=!1,s=O;if(t.signal){if(s=()=>{a=!0,l.call(e,new o(void 0,{cause:t.signal.reason}))},t.signal.aborted)i.nextTick(s);else{let i=(n=n||r(449).addAbortListener)(t.signal,s),o=l;l=d((...t)=>{i[g](),o.apply(e,t)})}}let u=(...t)=>{a||i.nextTick(()=>l.apply(e,t))};return y(e[P].promise,u,u),O}(e,t,l);if(!k(e))throw new a("stream",["ReadableStream","WritableStream","Stream"],e);let M=null!==(p=t.readable)&&void 0!==p?p:_(e),I=null!==(b=t.writable)&&void 0!==b?b:T(e),L=e._writableState,D=e._readableState,W=()=>{e.writable||q()},N=$(e)&&_(e)===M&&T(e)===I,C=R(e,!1),q=()=>{C=!0,e.destroyed&&(N=!1),N&&(!e.readable||M)||M&&!B||l.call(e)},B=S(e,!1),F=()=>{B=!0,e.destroyed&&(N=!1),N&&(!e.writable||I)||I&&!C||l.call(e)},U=t=>{l.call(e,t)},G=w(e),H=()=>{G=!0;let t=j(e)||E(e);return t&&"boolean"!=typeof t?l.call(e,t):M&&!B&&_(e,!0)&&!S(e,!1)||I&&!C&&!R(e,!1)?l.call(e,new s):void l.call(e)},V=()=>{G=!0;let t=j(e)||E(e);if(t&&"boolean"!=typeof t)return l.call(e,t);l.call(e)},z=()=>{e.req.on("finish",q)};e.setHeader&&"function"==typeof e.abort?(e.on("complete",q),N||e.on("abort",H),e.req?z():e.on("request",z)):I&&!L&&(e.on("end",W),e.on("close",W)),N||"boolean"!=typeof e.aborted||e.on("aborted",H),e.on("end",F),e.on("finish",q),!1!==t.error&&e.on("error",U),e.on("close",H),G?i.nextTick(H):null!=L&&L.errorEmitted||null!=D&&D.errorEmitted?N||i.nextTick(V):!M&&(!N||m(e))&&(C||!1===x(e))?i.nextTick(V):!I&&(!N||x(e))&&(B||!1===m(e))?i.nextTick(V):D&&e.req&&e.aborted&&i.nextTick(V);let Y=()=>{l=O,e.removeListener("aborted",H),e.removeListener("complete",q),e.removeListener("abort",H),e.removeListener("request",z),e.req&&e.req.removeListener("finish",q),e.removeListener("end",W),e.removeListener("close",W),e.removeListener("finish",q),e.removeListener("end",F),e.removeListener("error",U),e.removeListener("close",H)};if(t.signal&&!G){let a=()=>{let r=l;Y(),r.call(e,new o(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)i.nextTick(a);else{let i=(n=n||r(449).addAbortListener)(t.signal,a),o=l;l=d((...t)=>{i[g](),o.apply(e,t)})}}return Y}e.exports=M,e.exports.finished=function(e,t){var r;let n=!1;return null===t&&(t=u),null!==(r=t)&&void 0!==r&&r.cleanup&&(p(t.cleanup,"cleanup"),n=t.cleanup),new b((r,i)=>{let o=M(e,t,e=>{n&&o(),e?i(e):r()})})}},18042:(e,t,r)=>{"use strict";let n=r(83806),{PromisePrototypeThen:i,SymbolAsyncIterator:o,SymbolIterator:l}=r(19472),{Buffer:a}=r(78893),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_NULL_VALUES:u}=r(42782).codes;e.exports=function(e,t,r){let d,c;if("string"==typeof t||t instanceof a)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});if(t&&t[o])c=!0,d=t[o]();else if(t&&t[l])c=!1,d=t[l]();else throw new s("iterable",["Iterable"],t);let f=new e({objectMode:!0,highWaterMark:1,...r}),h=!1;async function p(e){let t=null!=e,r="function"==typeof d.throw;if(t&&r){let{value:t,done:r}=await d.throw(e);if(await t,r)return}if("function"==typeof d.return){let{value:e}=await d.return();await e}}async function b(){for(;;){try{let{value:e,done:t}=c?await d.next():d.next();if(t)f.push(null);else{let t=e&&"function"==typeof e.then?await e:e;if(null===t)throw h=!1,new u;if(f.push(t))continue;h=!1}}catch(e){f.destroy(e)}break}}return f._read=function(){h||(h=!0,b())},f._destroy=function(e,t){i(p(e),()=>n.nextTick(t,e),r=>n.nextTick(t,r||e))},f}},80899:(e,t,r)=>{"use strict";let{ArrayIsArray:n,ObjectSetPrototypeOf:i}=r(19472),{EventEmitter:o}=r(17702);function l(e){o.call(this,e)}function a(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?n(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}i(l.prototype,o.prototype),i(l,o),l.prototype.pipe=function(e,t){let r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",u));let l=!1;function s(){l||(l=!0,e.end())}function u(){l||(l=!0,"function"==typeof e.destroy&&e.destroy())}function d(e){c(),0===o.listenerCount(this,"error")&&this.emit("error",e)}function c(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",u),r.removeListener("error",d),e.removeListener("error",d),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return a(r,"error",d),a(e,"error",d),r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e},e.exports={Stream:l,prependListener:a}},55714:(e,t,r)=>{"use strict";let n=globalThis.AbortController||r(54769).AbortController,{codes:{ERR_INVALID_ARG_VALUE:i,ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:l,ERR_OUT_OF_RANGE:a},AbortError:s}=r(42782),{validateAbortSignal:u,validateInteger:d,validateObject:c}=r(11150),f=r(19472).Symbol("kWeak"),h=r(19472).Symbol("kResistStopPropagation"),{finished:p}=r(90920),b=r(61442),{addAbortSignalNoValidate:y}=r(81799),{isWritable:g,isNodeStream:w}=r(95975),{deprecate:m}=r(449),{ArrayPrototypePush:_,Boolean:v,MathFloor:S,Number:E,NumberIsNaN:x,Promise:T,PromiseReject:A,PromiseResolve:R,PromisePrototypeThen:j,Symbol:k}=r(19472),$=k("kEmpty"),P=k("kEof");function O(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);null!=t&&c(t,"options"),(null==t?void 0:t.signal)!=null&&u(t.signal,"options.signal");let n=1;(null==t?void 0:t.concurrency)!=null&&(n=S(t.concurrency));let i=n-1;return(null==t?void 0:t.highWaterMark)!=null&&(i=S(t.highWaterMark)),d(n,"options.concurrency",1),d(i,"options.highWaterMark",0),i+=n,(async function*(){let o,l;let a=r(449).AbortSignalAny([null==t?void 0:t.signal].filter(v)),u=this,d=[],c={signal:a},f=!1,h=0;function p(){f=!0,b()}function b(){h-=1,y()}function y(){l&&!f&&h<n&&d.length<i&&(l(),l=null)}(async function(){try{for await(let t of u){if(f)return;if(a.aborted)throw new s;try{if((t=e(t,c))===$)continue;t=R(t)}catch(e){t=A(e)}h+=1,j(t,b,p),d.push(t),o&&(o(),o=null),!f&&(d.length>=i||h>=n)&&await new T(e=>{l=e})}d.push(P)}catch(t){let e=A(t);j(e,b,p),d.push(e)}finally{f=!0,o&&(o(),o=null)}})();try{for(;;){for(;d.length>0;){let e=await d[0];if(e===P)return;if(a.aborted)throw new s;e!==$&&(yield e),d.shift(),y()}await new T(e=>{o=e})}}finally{f=!0,l&&(l(),l=null)}}).call(this)}async function M(e,t){for await(let r of W.call(this,e,t))return!0;return!1}async function I(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);return!await M.call(this,async(...t)=>!await e(...t),t)}async function L(e,t){for await(let r of W.call(this,e,t))return r}async function D(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);async function r(t,r){return await e(t,r),$}for await(let e of O.call(this,r,t));}function W(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);async function r(t,r){return await e(t,r)?t:$}return O.call(this,r,t)}class N extends l{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function C(e,t,r){var i,l;if("function"!=typeof e)throw new o("reducer",["Function","AsyncFunction"],e);null!=r&&c(r,"options"),(null==r?void 0:r.signal)!=null&&u(r.signal,"options.signal");let a=arguments.length>1;if(null!=r&&null!==(i=r.signal)&&void 0!==i&&i.aborted){let e=new s(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await p(this.destroy(e)),e}let d=new n,b=d.signal;null!=r&&r.signal&&r.signal.addEventListener("abort",()=>d.abort(),{once:!0,[f]:this,[h]:!0});let y=!1;try{for await(let n of this){if(y=!0,null!=r&&null!==(l=r.signal)&&void 0!==l&&l.aborted)throw new s;a?t=await e(t,n,{signal:b}):(t=n,a=!0)}if(!y&&!a)throw new N}finally{d.abort()}return t}async function q(e){null!=e&&c(e,"options"),(null==e?void 0:e.signal)!=null&&u(e.signal,"options.signal");let t=[];for await(let n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new s(void 0,{cause:e.signal.reason});_(t,n)}return t}function B(e){if(x(e=E(e)))return 0;if(e<0)throw new a("number",">= 0",e);return e}e.exports.streamReturningOperators={asIndexedPairs:m(function(e){return null!=e&&c(e,"options"),(null==e?void 0:e.signal)!=null&&u(e.signal,"options.signal"),(async function*(){let t=0;for await(let n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new s({cause:e.signal.reason});yield[t++,n]}}).call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function(e,t){return null!=t&&c(t,"options"),(null==t?void 0:t.signal)!=null&&u(t.signal,"options.signal"),e=B(e),(async function*(){var r,n;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new s;for await(let r of this){if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new s;e--<=0&&(yield r)}}).call(this)},filter:W,flatMap:function(e,t){let r=O.call(this,e,t);return(async function*(){for await(let e of r)yield*e}).call(this)},map:O,take:function(e,t){return null!=t&&c(t,"options"),(null==t?void 0:t.signal)!=null&&u(t.signal,"options.signal"),e=B(e),(async function*(){var r,n;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new s;for await(let r of this){if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new s;if(e-- >0&&(yield r),e<=0)return}}).call(this)},compose:function(e,t){if(null!=t&&c(t,"options"),(null==t?void 0:t.signal)!=null&&u(t.signal,"options.signal"),w(e)&&!g(e))throw new i("stream",e,"must be writable");let r=b(this,e);return null!=t&&t.signal&&y(t.signal,r),r}},e.exports.promiseReturningOperators={every:I,forEach:D,reduce:C,toArray:q,some:M,find:L}},63994:(e,t,r)=>{"use strict";let{ObjectSetPrototypeOf:n}=r(19472);e.exports=o;let i=r(70466);function o(e){if(!(this instanceof o))return new o(e);i.call(this,e)}n(o.prototype,i.prototype),n(o,i),o.prototype._transform=function(e,t,r){r(null,e)}},89121:(e,t,r)=>{let n,i,o;"use strict";let l=r(83806),{ArrayIsArray:a,Promise:s,SymbolAsyncIterator:u,SymbolDispose:d}=r(19472),c=r(90920),{once:f}=r(449),h=r(63346),p=r(6011),{aggregateTwoErrors:b,codes:{ERR_INVALID_ARG_TYPE:y,ERR_INVALID_RETURN_VALUE:g,ERR_MISSING_ARGS:w,ERR_STREAM_DESTROYED:m,ERR_STREAM_PREMATURE_CLOSE:_},AbortError:v}=r(42782),{validateFunction:S,validateAbortSignal:E}=r(11150),{isIterable:x,isReadable:T,isReadableNodeStream:A,isNodeStream:R,isTransformStream:j,isWebStream:k,isReadableStream:$,isReadableFinished:P}=r(95975),O=globalThis.AbortController||r(54769).AbortController;function M(e,t,r){let n=!1;return e.on("close",()=>{n=!0}),{destroy:t=>{n||(n=!0,h.destroyer(e,t||new m("pipe")))},cleanup:c(e,{readable:t,writable:r},e=>{n=!e})}}function I(e){if(x(e))return e;if(A(e))return L(e);throw new y("val",["Readable","Iterable","AsyncIterable"],e)}async function*L(e){i||(i=r(36412)),yield*i.prototype[u].call(e)}async function D(e,t,r,{end:n}){let i;let o=null,l=e=>{if(e&&(i=e),o){let e=o;o=null,e()}},a=()=>new s((e,t)=>{i?t(i):o=()=>{i?t(i):e()}});t.on("drain",l);let u=c(t,{readable:!1},l);try{for await(let r of(t.writableNeedDrain&&await a(),e))t.write(r)||await a();n&&(t.end(),await a()),r()}catch(e){r(i!==e?b(i,e):e)}finally{u(),t.off("drain",l)}}async function W(e,t,r,{end:n}){j(t)&&(t=t.writable);let i=t.getWriter();try{for await(let t of e)await i.ready,i.write(t).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(e){try{await i.abort(e),r(e)}catch(e){r(e)}}}function N(e,t,i){let s,u,f,h;if(1===e.length&&a(e[0])&&(e=e[0]),e.length<2)throw new w("streams");let b=new O,m=b.signal,S=null==i?void 0:i.signal,L=[];function N(){F(new v)}E(S,"options.signal"),o=o||r(449).addAbortListener,S&&(s=o(S,N));let C=[],q=0;function B(e){F(e,0==--q)}function F(e,r){var n;if(e&&(!u||"ERR_STREAM_PREMATURE_CLOSE"===u.code)&&(u=e),u||r){for(;C.length;)C.shift()(u);null===(n=s)||void 0===n||n[d](),b.abort(),r&&(u||L.forEach(e=>e()),l.nextTick(t,u,f))}}for(let t=0;t<e.length;t++){let o=e[t],a=t<e.length-1,s=t>0,u=a||(null==i?void 0:i.end)!==!1,d=t===e.length-1;if(R(o)){if(u){let{destroy:e,cleanup:t}=M(o,a,s);C.push(e),T(o)&&d&&L.push(t)}function U(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&B(e)}o.on("error",U),T(o)&&d&&L.push(()=>{o.removeListener("error",U)})}if(0===t){if("function"==typeof o){if(!x(h=o({signal:m})))throw new g("Iterable, AsyncIterable or Stream","source",h)}else h=x(o)||A(o)||j(o)?o:p.from(o)}else if("function"==typeof o){var G,H;if(h=o(h=j(h)?I(null===(G=h)||void 0===G?void 0:G.readable):I(h),{signal:m}),a){if(!x(h,!0))throw new g("AsyncIterable",`transform[${t-1}]`,h)}else{n||(n=r(63994));let e=new n({objectMode:!0}),t=null===(H=h)||void 0===H?void 0:H.then;if("function"==typeof t)q++,t.call(h,t=>{f=t,null!=t&&e.write(t),u&&e.end(),l.nextTick(B)},t=>{e.destroy(t),l.nextTick(B,t)});else if(x(h,!0))q++,D(h,e,B,{end:u});else if($(h)||j(h)){let t=h.readable||h;q++,D(t,e,B,{end:u})}else throw new g("AsyncIterable or Promise","destination",h);let{destroy:i,cleanup:o}=M(h=e,!1,!0);C.push(i),d&&L.push(o)}}else if(R(o)){if(A(h)){q+=2;let e=function(e,t,r,{end:n}){let i=!1;if(t.on("close",()=>{i||r(new _)}),e.pipe(t,{end:!1}),n){function o(){i=!0,t.end()}P(e)?l.nextTick(o):e.once("end",o)}else r();return c(e,{readable:!0,writable:!1},t=>{let n=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&n&&n.ended&&!n.errored&&!n.errorEmitted?e.once("end",r).once("error",r):r(t)}),c(t,{readable:!1,writable:!0},r)}(h,o,B,{end:u});T(o)&&d&&L.push(e)}else if(j(h)||$(h)){let e=h.readable||h;q++,D(e,o,B,{end:u})}else if(x(h))q++,D(h,o,B,{end:u});else throw new y("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=o}else if(k(o)){if(A(h))q++,W(I(h),o,B,{end:u});else if($(h)||x(h))q++,W(h,o,B,{end:u});else if(j(h))q++,W(h.readable,o,B,{end:u});else throw new y("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=o}else h=p.from(o)}return(null!=m&&m.aborted||null!=S&&S.aborted)&&l.nextTick(N),h}e.exports={pipelineImpl:N,pipeline:function(...e){return N(e,f((S(e[e.length-1],"streams[stream.length - 1]"),e.pop())))}}},36412:(e,t,r)=>{let n;"use strict";let i=r(83806),{ArrayPrototypeIndexOf:o,NumberIsInteger:l,NumberIsNaN:a,NumberParseInt:s,ObjectDefineProperties:u,ObjectKeys:d,ObjectSetPrototypeOf:c,Promise:f,SafeSet:h,SymbolAsyncDispose:p,SymbolAsyncIterator:b,Symbol:y}=r(19472);e.exports=U,U.ReadableState=F;let{EventEmitter:g}=r(17702),{Stream:w,prependListener:m}=r(80899),{Buffer:_}=r(78893),{addAbortSignal:v}=r(81799),S=r(90920),E=r(449).debuglog("stream",e=>{E=e}),x=r(7726),T=r(63346),{getHighWaterMark:A,getDefaultHighWaterMark:R}=r(70301),{aggregateTwoErrors:j,codes:{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:$,ERR_OUT_OF_RANGE:P,ERR_STREAM_PUSH_AFTER_EOF:O,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:M},AbortError:I}=r(42782),{validateObject:L}=r(11150),D=y("kPaused"),{StringDecoder:W}=r(74026),N=r(18042);c(U.prototype,w.prototype),c(U,w);let C=()=>{},{errorOrDestroy:q}=T;function B(e){return{enumerable:!1,get(){return(this.state&e)!=0},set(t){t?this.state|=e:this.state&=~e}}}function F(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(6011)),this.state=6192,e&&e.objectMode&&(this.state|=1),n&&e&&e.readableObjectMode&&(this.state|=1),this.highWaterMark=e?A(this,e,"readableHighWaterMark",n):R(!1),this.buffer=new x,this.length=0,this.pipes=[],this.flowing=null,this[D]=null,e&&!1===e.emitClose&&(this.state&=-2049),e&&!1===e.autoDestroy&&(this.state&=-4097),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new W(e.encoding),this.encoding=e.encoding)}function U(e){if(!(this instanceof U))return new U(e);let t=this instanceof r(6011);this._readableState=new F(e,this,t),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&v(e.signal,this)),w.call(this,e),T.construct(this,()=>{this._readableState.needReadable&&K(this,this._readableState)})}function G(e,t,r,n){let i;E("readableAddChunk",t);let o=e._readableState;if((1&o.state)==0&&("string"==typeof t?(r=r||o.defaultEncoding,o.encoding!==r&&(n&&o.encoding?t=_.from(t,r).toString(o.encoding):(t=_.from(t,r),r=""))):t instanceof _?r="":w._isUint8Array(t)?(t=w._uint8ArrayToBuffer(t),r=""):null!=t&&(i=new k("chunk",["string","Buffer","Uint8Array"],t))),i)q(e,i);else if(null===t)o.state&=-9,function(e,t){if(E("onEofChunk"),!t.ended){if(t.decoder){let e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?z(e):(t.needReadable=!1,t.emittedReadable=!0,Y(e))}}(e,o);else if((1&o.state)!=0||t&&t.length>0){if(n){if((4&o.state)!=0)q(e,new M);else{if(o.destroyed||o.errored)return!1;H(e,o,t,!0)}}else if(o.ended)q(e,new O);else{if(o.destroyed||o.errored)return!1;o.state&=-9,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?H(e,o,t,!1):K(e,o)):H(e,o,t,!1)}}else n||(o.state&=-9,K(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function H(e,t,r,n){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?((65536&t.state)!=0?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),(64&t.state)!=0&&z(e)),K(e,t)}function V(e,t){return e<=0||0===t.length&&t.ended?0:(1&t.state)!=0?1:a(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function z(e){let t=e._readableState;E("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(E("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(Y,e))}function Y(e){let t=e._readableState;E("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&!t.errored&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,ee(e)}function K(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,i.nextTick(J,e,t))}function J(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){let r=t.length;if(E("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function X(e){let t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[D]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function Z(e){E("readable nexttick read 0"),e.read(0)}function Q(e,t){E("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),ee(e),t.flowing&&!t.reading&&e.read(0)}function ee(e){let t=e._readableState;for(E("flow",t.flowing);t.flowing&&null!==e.read(););}function et(e,t){"function"!=typeof e.read&&(e=U.wrap(e,{objectMode:!0}));let r=er(e,t);return r.stream=e,r}async function*er(e,t){let r,n=C;function i(t){this===e?(n(),n=C):n=t}e.on("readable",i);let o=S(e,{writable:!1},e=>{r=e?j(r,e):null,n(),n=C});try{for(;;){let t=e.destroyed?null:e.read();if(null!==t)yield t;else if(r)throw r;else{if(null===r)return;await new f(i)}}}catch(e){throw r=j(r,e)}finally{(r||(null==t?void 0:t.destroyOnReturn)!==!1)&&(void 0===r||e._readableState.autoDestroy)?T.destroyer(e,null):(e.off("readable",i),o())}}function en(e,t){let r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r)}function ei(e){let t=e._readableState;E("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(eo,t,e))}function eo(e,t){if(E("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length){if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)i.nextTick(el,t);else if(e.autoDestroy){let e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}}function el(e){!e.writable||e.writableEnded||e.destroyed||e.end()}function ea(){return void 0===n&&(n={}),n}u(F.prototype,{objectMode:B(1),ended:B(2),endEmitted:B(4),reading:B(8),constructed:B(16),sync:B(32),needReadable:B(64),emittedReadable:B(128),readableListening:B(256),resumeScheduled:B(512),errorEmitted:B(1024),emitClose:B(2048),autoDestroy:B(4096),destroyed:B(8192),closed:B(16384),closeEmitted:B(32768),multiAwaitDrain:B(65536),readingMore:B(131072),dataEmitted:B(262144)}),U.prototype.destroy=T.destroy,U.prototype._undestroy=T.undestroy,U.prototype._destroy=function(e,t){t(e)},U.prototype[g.captureRejectionSymbol]=function(e){this.destroy(e)},U.prototype[p]=function(){let e;return this.destroyed||(e=this.readableEnded?null:new I,this.destroy(e)),new f((t,r)=>S(this,n=>n&&n!==e?r(n):t(null)))},U.prototype.push=function(e,t){return G(this,e,t,!1)},U.prototype.unshift=function(e,t){return G(this,e,t,!0)},U.prototype.isPaused=function(){let e=this._readableState;return!0===e[D]||!1===e.flowing},U.prototype.setEncoding=function(e){let t=new W(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let e of r)n+=t.write(e);return r.clear(),""!==n&&r.push(n),this._readableState.length=n.length,this},U.prototype.read=function(e){let t;E("read",e),void 0===e?e=NaN:l(e)||(e=s(e,10));let r=this._readableState,n=e;if(e>r.highWaterMark&&(r.highWaterMark=function(e){if(e>1073741824)throw new P("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(r.state&=-129),0===e&&r.needReadable&&((0!==r.highWaterMark?r.length>=r.highWaterMark:r.length>0)||r.ended))return E("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?ei(this):z(this),null;if(0===(e=V(e,r))&&r.ended)return 0===r.length&&ei(this),null;let i=(64&r.state)!=0;if(E("need readable",i),(0===r.length||r.length-e<r.highWaterMark)&&E("length less than watermark",i=!0),r.ended||r.reading||r.destroyed||r.errored||!r.constructed)E("reading, ended or constructing",i=!1);else if(i){E("do read"),r.state|=40,0===r.length&&(r.state|=64);try{this._read(r.highWaterMark)}catch(e){q(this,e)}r.state&=-33,r.reading||(e=V(n,r))}return null===(t=e>0?en(e,r):null)?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.multiAwaitDrain?r.awaitDrainWriters.clear():r.awaitDrainWriters=null),0===r.length&&(r.ended||(r.needReadable=!0),n!==e&&r.ended&&ei(this)),null===t||r.errorEmitted||r.closeEmitted||(r.dataEmitted=!0,this.emit("data",t)),t},U.prototype._read=function(e){throw new $("_read()")},U.prototype.pipe=function(e,t){let r;let n=this,o=this._readableState;1!==o.pipes.length||o.multiAwaitDrain||(o.multiAwaitDrain=!0,o.awaitDrainWriters=new h(o.awaitDrainWriters?[o.awaitDrainWriters]:[])),o.pipes.push(e),E("pipe count=%d opts=%j",o.pipes.length,t);let l=t&&!1===t.end||e===i.stdout||e===i.stderr?b:a;function a(){E("onend"),e.end()}o.endEmitted?i.nextTick(l):n.once("end",l),e.on("unpipe",function t(i,l){E("onunpipe"),i===n&&l&&!1===l.hasUnpiped&&(l.hasUnpiped=!0,E("cleanup"),e.removeListener("close",f),e.removeListener("finish",p),r&&e.removeListener("drain",r),e.removeListener("error",c),e.removeListener("unpipe",t),n.removeListener("end",a),n.removeListener("end",b),n.removeListener("data",d),s=!0,r&&o.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&r())});let s=!1;function u(){s||(1===o.pipes.length&&o.pipes[0]===e?(E("false write response, pause",0),o.awaitDrainWriters=e,o.multiAwaitDrain=!1):o.pipes.length>1&&o.pipes.includes(e)&&(E("false write response, pause",o.awaitDrainWriters.size),o.awaitDrainWriters.add(e)),n.pause()),r||(r=function(){let t=n._readableState;t.awaitDrainWriters===e?(E("pipeOnDrain",1),t.awaitDrainWriters=null):t.multiAwaitDrain&&(E("pipeOnDrain",t.awaitDrainWriters.size),t.awaitDrainWriters.delete(e)),(!t.awaitDrainWriters||0===t.awaitDrainWriters.size)&&n.listenerCount("data")&&n.resume()},e.on("drain",r))}function d(t){E("ondata");let r=e.write(t);E("dest.write",r),!1===r&&u()}function c(t){if(E("onerror",t),b(),e.removeListener("error",c),0===e.listenerCount("error")){let r=e._writableState||e._readableState;r&&!r.errorEmitted?q(e,t):e.emit("error",t)}}function f(){e.removeListener("finish",p),b()}function p(){E("onfinish"),e.removeListener("close",f),b()}function b(){E("unpipe"),n.unpipe(e)}return n.on("data",d),m(e,"error",c),e.once("close",f),e.once("finish",p),e.emit("pipe",n),!0===e.writableNeedDrain?u():o.flowing||(E("pipe resume"),n.resume()),e},U.prototype.unpipe=function(e){let t=this._readableState;if(0===t.pipes.length)return this;if(!e){let e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}let r=o(t.pipes,e);return -1===r||(t.pipes.splice(r,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},U.prototype.on=function(e,t){let r=w.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"!==e||n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,E("on readable",n.length,n.reading),n.length?z(this):n.reading||i.nextTick(Z,this)),r},U.prototype.addListener=U.prototype.on,U.prototype.removeListener=function(e,t){let r=w.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(X,this),r},U.prototype.off=U.prototype.removeListener,U.prototype.removeAllListeners=function(e){let t=w.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&i.nextTick(X,this),t},U.prototype.resume=function(){let e=this._readableState;return e.flowing||(E("resume"),e.flowing=!e.readableListening,e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(Q,this,e))),e[D]=!1,this},U.prototype.pause=function(){return E("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(E("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[D]=!0,this},U.prototype.wrap=function(e){let t=!1;e.on("data",r=>{!this.push(r)&&e.pause&&(t=!0,e.pause())}),e.on("end",()=>{this.push(null)}),e.on("error",e=>{q(this,e)}),e.on("close",()=>{this.destroy()}),e.on("destroy",()=>{this.destroy()}),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};let r=d(e);for(let t=1;t<r.length;t++){let n=r[t];void 0===this[n]&&"function"==typeof e[n]&&(this[n]=e[n].bind(e))}return this},U.prototype[b]=function(){return et(this)},U.prototype.iterator=function(e){return void 0!==e&&L(e,"options"),et(this,e)},u(U.prototype,{readable:{__proto__:null,get(){let e=this._readableState;return!!e&&!1!==e.readable&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(!1!==this._readableState.readable&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),u(F.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[D]},set(e){this[D]=!!e}}}),U._fromList=en,U.from=function(e,t){return N(U,e,t)},U.fromWeb=function(e,t){return ea().newStreamReadableFromReadableStream(e,t)},U.toWeb=function(e,t){return ea().newReadableStreamFromStreamReadable(e,t)},U.wrap=function(e,t){var r,n;return new U({objectMode:null===(r=null!==(n=e.readableObjectMode)&&void 0!==n?n:e.objectMode)||void 0===r||r,...t,destroy(t,r){T.destroyer(e,t),r(t)}}).wrap(e)}},70301:(e,t,r)=>{"use strict";let{MathFloor:n,NumberIsInteger:i}=r(19472),{validateInteger:o}=r(11150),{ERR_INVALID_ARG_VALUE:l}=r(42782).codes,a=16384,s=16;function u(e){return e?s:a}e.exports={getHighWaterMark:function(e,t,r,o){let a=null!=t.highWaterMark?t.highWaterMark:o?t[r]:null;if(null!=a){if(!i(a)||a<0)throw new l(o?`options.${r}`:"options.highWaterMark",a);return n(a)}return u(e.objectMode)},getDefaultHighWaterMark:u,setDefaultHighWaterMark:function(e,t){o(t,"value",0),e?s=t:a=t}}},70466:(e,t,r)=>{"use strict";let{ObjectSetPrototypeOf:n,Symbol:i}=r(19472);e.exports=u;let{ERR_METHOD_NOT_IMPLEMENTED:o}=r(42782).codes,l=r(6011),{getHighWaterMark:a}=r(70301);n(u.prototype,l.prototype),n(u,l);let s=i("kCallback");function u(e){if(!(this instanceof u))return new u(e);let t=e?a(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),l.call(this,e),this._readableState.sync=!1,this[s]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",c)}function d(e){"function"!=typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush((t,r)=>{if(t){e?e(t):this.destroy(t);return}null!=r&&this.push(r),this.push(null),e&&e()})}function c(){this._final!==d&&d.call(this)}u.prototype._final=d,u.prototype._transform=function(e,t,r){throw new o("_transform()")},u.prototype._write=function(e,t,r){let n=this._readableState,i=this._writableState,o=n.length;this._transform(e,t,(e,t)=>{if(e){r(e);return}null!=t&&this.push(t),i.ended||o===n.length||n.length<n.highWaterMark?r():this[s]=r})},u.prototype._read=function(){if(this[s]){let e=this[s];this[s]=null,e()}}},95975:(e,t,r)=>{"use strict";let{SymbolAsyncIterator:n,SymbolIterator:i,SymbolFor:o}=r(19472),l=o("nodejs.stream.destroyed"),a=o("nodejs.stream.errored"),s=o("nodejs.stream.readable"),u=o("nodejs.stream.writable"),d=o("nodejs.stream.disturbed"),c=o("nodejs.webstream.isClosedPromise"),f=o("nodejs.webstream.controllerErrorFunction");function h(e,t=!1){var r;return!!(e&&"function"==typeof e.pipe&&"function"==typeof e.on&&(!t||"function"==typeof e.pause&&"function"==typeof e.resume)&&(!e._writableState||(null===(r=e._readableState)||void 0===r?void 0:r.readable)!==!1)&&(!e._writableState||e._readableState))}function p(e){var t;return!!(e&&"function"==typeof e.write&&"function"==typeof e.on&&(!e._readableState||(null===(t=e._writableState)||void 0===t?void 0:t.writable)!==!1))}function b(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function y(e){return!!(e&&!b(e)&&"function"==typeof e.pipeThrough&&"function"==typeof e.getReader&&"function"==typeof e.cancel)}function g(e){return!!(e&&!b(e)&&"function"==typeof e.getWriter&&"function"==typeof e.abort)}function w(e){return!!(e&&!b(e)&&"object"==typeof e.readable&&"object"==typeof e.writable)}function m(e){if(!b(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[l]||null!=n&&n.destroyed)}function _(e){if(!p(e))return null;if(!0===e.writableEnded)return!0;let t=e._writableState;return(null==t||!t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)}function v(e,t){if(!h(e))return null;let r=e._readableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.endEmitted)?null:!!(r.endEmitted||!1===t&&!0===r.ended&&0===r.length))}function S(e){return e&&null!=e[s]?e[s]:"boolean"!=typeof(null==e?void 0:e.readable)?null:!m(e)&&h(e)&&e.readable&&!v(e)}function E(e){return e&&null!=e[u]?e[u]:"boolean"!=typeof(null==e?void 0:e.writable)?null:!m(e)&&p(e)&&e.writable&&!_(e)}function x(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function T(e){return"boolean"==typeof e._sent100&&x(e)}e.exports={isDestroyed:m,kIsDestroyed:l,isDisturbed:function(e){var t;return!!(e&&(null!==(t=e[d])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:d,isErrored:function(e){var t,r,n,i,o,l,s,u,d,c;return!!(e&&(null!==(t=null!==(r=null!==(n=null!==(i=null!==(o=null!==(l=e[a])&&void 0!==l?l:e.readableErrored)&&void 0!==o?o:e.writableErrored)&&void 0!==i?i:null===(s=e._readableState)||void 0===s?void 0:s.errorEmitted)&&void 0!==n?n:null===(u=e._writableState)||void 0===u?void 0:u.errorEmitted)&&void 0!==r?r:null===(d=e._readableState)||void 0===d?void 0:d.errored)&&void 0!==t?t:null===(c=e._writableState)||void 0===c?void 0:c.errored))},kIsErrored:a,isReadable:S,kIsReadable:s,kIsClosedPromise:c,kControllerErrorFunction:f,kIsWritable:u,isClosed:function(e){if(!b(e))return null;if("boolean"==typeof e.closed)return e.closed;let t=e._writableState,r=e._readableState;return"boolean"==typeof(null==t?void 0:t.closed)||"boolean"==typeof(null==r?void 0:r.closed)?(null==t?void 0:t.closed)||(null==r?void 0:r.closed):"boolean"==typeof e._closed&&x(e)?e._closed:null},isDuplexNodeStream:function(e){return!!(e&&"function"==typeof e.pipe&&e._readableState&&"function"==typeof e.on&&"function"==typeof e.write)},isFinished:function(e,t){return b(e)?!!m(e)||!((null==t?void 0:t.readable)!==!1&&S(e)||(null==t?void 0:t.writable)!==!1&&E(e)):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"==typeof e[n]:!1===t?"function"==typeof e[i]:"function"==typeof e[n]||"function"==typeof e[i])},isReadableNodeStream:h,isReadableStream:y,isReadableEnded:function(e){if(!h(e))return null;if(!0===e.readableEnded)return!0;let t=e._readableState;return!!t&&!t.errored&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)},isReadableFinished:v,isReadableErrored:function(e){var t,r;return b(e)?e.readableErrored?e.readableErrored:null!==(t=null===(r=e._readableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isNodeStream:b,isWebStream:function(e){return y(e)||g(e)||w(e)},isWritable:E,isWritableNodeStream:p,isWritableStream:g,isWritableEnded:_,isWritableFinished:function(e,t){if(!p(e))return null;if(!0===e.writableFinished)return!0;let r=e._writableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.finished)?null:!!(r.finished||!1===t&&!0===r.ended&&0===r.length))},isWritableErrored:function(e){var t,r;return b(e)?e.writableErrored?e.writableErrored:null!==(t=null===(r=e._writableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)===void 0},isServerResponse:T,willEmitClose:function(e){if(!b(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!n&&T(e)||!!(n&&n.autoDestroy&&n.emitClose&&!1===n.closed)},isTransformStream:w}},67973:(e,t,r)=>{let n;"use strict";let i=r(83806),{ArrayPrototypeSlice:o,Error:l,FunctionPrototypeSymbolHasInstance:a,ObjectDefineProperty:s,ObjectDefineProperties:u,ObjectSetPrototypeOf:d,StringPrototypeToLowerCase:c,Symbol:f,SymbolHasInstance:h}=r(19472);e.exports=L,L.WritableState=M;let{EventEmitter:p}=r(17702),b=r(80899).Stream,{Buffer:y}=r(78893),g=r(63346),{addAbortSignal:w}=r(81799),{getHighWaterMark:m,getDefaultHighWaterMark:_}=r(70301),{ERR_INVALID_ARG_TYPE:v,ERR_METHOD_NOT_IMPLEMENTED:S,ERR_MULTIPLE_CALLBACK:E,ERR_STREAM_CANNOT_PIPE:x,ERR_STREAM_DESTROYED:T,ERR_STREAM_ALREADY_FINISHED:A,ERR_STREAM_NULL_VALUES:R,ERR_STREAM_WRITE_AFTER_END:j,ERR_UNKNOWN_ENCODING:k}=r(42782).codes,{errorOrDestroy:$}=g;function P(){}d(L.prototype,b.prototype),d(L,b);let O=f("kOnFinished");function M(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(6011)),this.objectMode=!!(e&&e.objectMode),n&&(this.objectMode=this.objectMode||!!(e&&e.writableObjectMode)),this.highWaterMark=e?m(this,e,"writableHighWaterMark",n):_(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let i=!!(e&&!1===e.decodeStrings);this.decodeStrings=!i,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=C.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,I(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[O]=[]}function I(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function L(e){let t=this instanceof r(6011);if(!t&&!a(L,this))return new L(e);this._writableState=new M(e,this,t),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&w(e.signal,this)),b.call(this,e),g.construct(this,()=>{let e=this._writableState;e.writing||U(this,e),H(this,e)})}function D(e,t,r,n){let o;let l=e._writableState;if("function"==typeof r)n=r,r=l.defaultEncoding;else{if(r){if("buffer"!==r&&!y.isEncoding(r))throw new k(r)}else r=l.defaultEncoding;"function"!=typeof n&&(n=P)}if(null===t)throw new R;if(!l.objectMode){if("string"==typeof t)!1!==l.decodeStrings&&(t=y.from(t,r),r="buffer");else if(t instanceof y)r="buffer";else if(b._isUint8Array(t))t=b._uint8ArrayToBuffer(t),r="buffer";else throw new v("chunk",["string","Buffer","Uint8Array"],t)}return(l.ending?o=new j:l.destroyed&&(o=new T("write")),o)?(i.nextTick(n,o),$(e,o,!0),o):(l.pendingcb++,function(e,t,r,n,i){let o=t.objectMode?1:r.length;t.length+=o;let l=t.length<t.highWaterMark;return l||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:i}),t.allBuffers&&"buffer"!==n&&(t.allBuffers=!1),t.allNoop&&i!==P&&(t.allNoop=!1)):(t.writelen=o,t.writecb=i,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1),l&&!t.errored&&!t.destroyed}(e,l,t,r,n))}function W(e,t,r,n,i,o,l){t.writelen=n,t.writecb=l,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new T("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function N(e,t,r,n){--t.pendingcb,n(r),F(t),$(e,r)}function C(e,t){let r=e._writableState,n=r.sync,o=r.writecb;if("function"!=typeof o){$(e,new E);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),n?i.nextTick(N,e,r,t,o):N(e,r,t,o)):(r.buffered.length>r.bufferedIndex&&U(e,r),n?null!==r.afterWriteTickInfo&&r.afterWriteTickInfo.cb===o?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:o,stream:e,state:r},i.nextTick(q,r.afterWriteTickInfo)):B(e,r,1,o))}function q({stream:e,state:t,count:r,cb:n}){return t.afterWriteTickInfo=null,B(e,t,r,n)}function B(e,t,r,n){for(t.ending||e.destroyed||0!==t.length||!t.needDrain||(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&F(t),H(e,t)}function F(e){var t,r;if(e.writing)return;for(let r=e.bufferedIndex;r<e.buffered.length;++r){let{chunk:n,callback:i}=e.buffered[r],o=e.objectMode?1:n.length;e.length-=o,i(null!==(t=e.errored)&&void 0!==t?t:new T("write"))}let n=e[O].splice(0);for(let t=0;t<n.length;t++)n[t](null!==(r=e.errored)&&void 0!==r?r:new T("end"));I(e)}function U(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=t,l=r.length-n;if(!l)return;let a=n;if(t.bufferProcessing=!0,l>1&&e._writev){t.pendingcb-=l-1;let n=t.allNoop?P:e=>{for(let t=a;t<r.length;++t)r[t].callback(e)},i=t.allNoop&&0===a?r:o(r,a);i.allBuffers=t.allBuffers,W(e,t,!0,t.length,i,"",n),I(t)}else{do{let{chunk:n,encoding:o,callback:l}=r[a];r[a++]=null,W(e,t,!1,i?1:n.length,n,o,l)}while(a<r.length&&!t.writing);a===r.length?I(t):a>256?(r.splice(0,a),t.bufferedIndex=0):t.bufferedIndex=a}t.bufferProcessing=!1}function G(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function H(e,t,r){G(t)&&(t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let r=!1;function n(n){if(r){$(e,null!=n?n:E());return}if(r=!0,t.pendingcb--,n){let r=t[O].splice(0);for(let e=0;e<r.length;e++)r[e](n);$(e,n,t.sync)}else G(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,i.nextTick(V,e,t))}t.sync=!0,t.pendingcb++;try{e._final(n)}catch(e){n(e)}t.sync=!1}(e,t))),0===t.pendingcb&&(r?(t.pendingcb++,i.nextTick((e,t)=>{G(t)?V(e,t):t.pendingcb--},e,t)):G(t)&&(t.pendingcb++,V(e,t))))}function V(e,t){t.pendingcb--,t.finished=!0;let r=t[O].splice(0);for(let e=0;e<r.length;e++)r[e]();if(e.emit("finish"),t.autoDestroy){let t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}M.prototype.getBuffer=function(){return o(this.buffered,this.bufferedIndex)},s(M.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),s(L,h,{__proto__:null,value:function(e){return!!a(this,e)||this===L&&e&&e._writableState instanceof M}}),L.prototype.pipe=function(){$(this,new x)},L.prototype.write=function(e,t,r){return!0===D(this,e,t,r)},L.prototype.cork=function(){this._writableState.corked++},L.prototype.uncork=function(){let e=this._writableState;e.corked&&(e.corked--,e.writing||U(this,e))},L.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=c(e)),!y.isEncoding(e))throw new k(e);return this._writableState.defaultEncoding=e,this},L.prototype._write=function(e,t,r){if(this._writev)this._writev([{chunk:e,encoding:t}],r);else throw new S("_write()")},L.prototype._writev=null,L.prototype.end=function(e,t,r){let n;let o=this._writableState;if("function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e){let r=D(this,e,t);r instanceof l&&(n=r)}return o.corked&&(o.corked=1,this.uncork()),n||(o.errored||o.ending?o.finished?n=new A("end"):o.destroyed&&(n=new T("end")):(o.ending=!0,H(this,o,!0),o.ended=!0)),"function"==typeof r&&(n||o.finished?i.nextTick(r,n):o[O].push(r)),this},u(L.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){let e=this._writableState;return!!e&&!1!==e.writable&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){let e=this._writableState;return!!e&&!e.destroyed&&!e.ending&&e.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(!1!==this._writableState.writable&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});let z=g.destroy;function Y(){return void 0===n&&(n={}),n}L.prototype.destroy=function(e,t){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[O].length)&&i.nextTick(F,r),z.call(this,e,t),this},L.prototype._undestroy=g.undestroy,L.prototype._destroy=function(e,t){t(e)},L.prototype[p.captureRejectionSymbol]=function(e){this.destroy(e)},L.fromWeb=function(e,t){return Y().newStreamWritableFromWritableStream(e,t)},L.toWeb=function(e){return Y().newWritableStreamFromStreamWritable(e)}},11150:(e,t,r)=>{"use strict";let{ArrayIsArray:n,ArrayPrototypeIncludes:i,ArrayPrototypeJoin:o,ArrayPrototypeMap:l,NumberIsInteger:a,NumberIsNaN:s,NumberMAX_SAFE_INTEGER:u,NumberMIN_SAFE_INTEGER:d,NumberParseInt:c,ObjectPrototypeHasOwnProperty:f,RegExpPrototypeExec:h,String:p,StringPrototypeToUpperCase:b,StringPrototypeTrim:y}=r(19472),{hideStackFrames:g,codes:{ERR_SOCKET_BAD_PORT:w,ERR_INVALID_ARG_TYPE:m,ERR_INVALID_ARG_VALUE:_,ERR_OUT_OF_RANGE:v,ERR_UNKNOWN_SIGNAL:S}}=r(42782),{normalizeEncoding:E}=r(449),{isAsyncFunction:x,isArrayBufferView:T}=r(449).types,A={},R=/^[0-7]+$/,j=g((e,t,r=d,n=u)=>{if("number"!=typeof e)throw new m(t,"number",e);if(!a(e))throw new v(t,"an integer",e);if(e<r||e>n)throw new v(t,`>= ${r} && <= ${n}`,e)}),k=g((e,t,r=-2147483648,n=2147483647)=>{if("number"!=typeof e)throw new m(t,"number",e);if(!a(e))throw new v(t,"an integer",e);if(e<r||e>n)throw new v(t,`>= ${r} && <= ${n}`,e)}),$=g((e,t,r=!1)=>{if("number"!=typeof e)throw new m(t,"number",e);if(!a(e))throw new v(t,"an integer",e);let n=r?1:0;if(e<n||e>4294967295)throw new v(t,`>= ${n} && <= 4294967295`,e)});function P(e,t){if("string"!=typeof e)throw new m(t,"string",e)}let O=g((e,t,r)=>{if(!i(r,e))throw new _(t,e,"must be one of: "+o(l(r,e=>"string"==typeof e?`'${e}'`:p(e)),", "))});function M(e,t){if("boolean"!=typeof e)throw new m(t,"boolean",e)}function I(e,t,r){return null!=e&&f(e,t)?e[t]:r}let L=g((e,t,r=null)=>{let i=I(r,"allowArray",!1),o=I(r,"allowFunction",!1);if(!I(r,"nullable",!1)&&null===e||!i&&n(e)||"object"!=typeof e&&(!o||"function"!=typeof e))throw new m(t,"Object",e)}),D=g((e,t)=>{if(null!=e&&"object"!=typeof e&&"function"!=typeof e)throw new m(t,"a dictionary",e)}),W=g((e,t,r=0)=>{if(!n(e))throw new m(t,"Array",e);if(e.length<r)throw new _(t,e,`must be longer than ${r}`)}),N=g((e,t="buffer")=>{if(!T(e))throw new m(t,["Buffer","TypedArray","DataView"],e)}),C=g((e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new m(t,"AbortSignal",e)}),q=g((e,t)=>{if("function"!=typeof e)throw new m(t,"Function",e)}),B=g((e,t)=>{if("function"!=typeof e||x(e))throw new m(t,"Function",e)}),F=g((e,t)=>{if(void 0!==e)throw new m(t,"undefined",e)}),U=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function G(e,t){if(void 0===e||!h(U,e))throw new _(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,r){if(void 0===e&&(e=r),"string"==typeof e){if(null===h(R,e))throw new _(t,e,"must be a 32-bit unsigned integer or an octal string");e=c(e,8)}return $(e,t),e},validateArray:W,validateStringArray:function(e,t){W(e,t);for(let r=0;r<e.length;r++)P(e[r],`${t}[${r}]`)},validateBooleanArray:function(e,t){W(e,t);for(let r=0;r<e.length;r++)M(e[r],`${t}[${r}]`)},validateAbortSignalArray:function(e,t){W(e,t);for(let r=0;r<e.length;r++){let n=e[r],i=`${t}[${r}]`;if(null==n)throw new m(i,"AbortSignal",n);C(n,i)}},validateBoolean:M,validateBuffer:N,validateDictionary:D,validateEncoding:function(e,t){let r=E(t),n=e.length;if("hex"===r&&n%2!=0)throw new _("encoding",t,`is invalid for data of length ${n}`)},validateFunction:q,validateInt32:k,validateInteger:j,validateNumber:function(e,t,r,n){if("number"!=typeof e)throw new m(t,"number",e);if(null!=r&&e<r||null!=n&&e>n||(null!=r||null!=n)&&s(e))throw new v(t,`${null!=r?`>= ${r}`:""}${null!=r&&null!=n?" && ":""}${null!=n?`<= ${n}`:""}`,e)},validateObject:L,validateOneOf:O,validatePlainFunction:B,validatePort:function(e,t="Port",r=!0){if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===y(e).length||+e!=+e>>>0||e>65535||0===e&&!r)throw new w(t,e,r);return 0|e},validateSignalName:function(e,t="signal"){if(P(e,t),void 0===A[e]){if(void 0!==A[b(e)])throw new S(e+" (signals must use all capital letters)");throw new S(e)}},validateString:P,validateUint32:$,validateUndefined:F,validateUnion:function(e,t,r){if(!i(r,e))throw new m(t,`('${o(r,"|")}')`,e)},validateAbortSignal:C,validateLinkHeaderValue:function(e){if("string"==typeof e)return G(e,"hints"),e;if(n(e)){let t=e.length,r="";if(0===t)return r;for(let n=0;n<t;n++){let i=e[n];G(i,"hints"),r+=i,n!==t-1&&(r+=", ")}return r}throw new _("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},42782:(e,t,r)=>{"use strict";let{format:n,inspect:i,AggregateError:o}=r(449),l=globalThis.AggregateError||o,a=Symbol("kIsNodeError"),s=["string","function","number","object","Function","Object","boolean","bigint","symbol"],u=/^([A-Z][a-z0-9]*)+$/,d={};function c(e,t){if(!e)throw new d.ERR_INTERNAL_ASSERTION(t)}function f(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function h(e,t,r){r||(r=Error);class i extends r{constructor(...r){super(function(e,t,r){if("function"==typeof t)return c(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);let i=(t.match(/%[dfijoOs]/g)||[]).length;return(c(i===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${i}).`),0===r.length)?t:n(t,...r)}(e,t,r))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=e,i.prototype[a]=!0,d[e]=i}function p(e){let t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}class b extends Error{constructor(e="The operation was aborted",t){if(void 0!==t&&"object"!=typeof t)throw new d.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}h("ERR_ASSERTION","%s",Error),h("ERR_INVALID_ARG_TYPE",(e,t,r)=>{c("string"==typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";let o=[],l=[],a=[];for(let e of t)c("string"==typeof e,"All expected entries have to be of type string"),s.includes(e)?o.push(e.toLowerCase()):u.test(e)?l.push(e):(c("object"!==e,'The value "object" should be written as "Object"'),a.push(e));if(l.length>0){let e=o.indexOf("object");-1!==e&&(o.splice(o,e,1),l.push("Object"))}if(o.length>0){switch(o.length){case 1:n+=`of type ${o[0]}`;break;case 2:n+=`one of type ${o[0]} or ${o[1]}`;break;default:{let e=o.pop();n+=`one of type ${o.join(", ")}, or ${e}`}}(l.length>0||a.length>0)&&(n+=" or ")}if(l.length>0){switch(l.length){case 1:n+=`an instance of ${l[0]}`;break;case 2:n+=`an instance of ${l[0]} or ${l[1]}`;break;default:{let e=l.pop();n+=`an instance of ${l.join(", ")}, or ${e}`}}a.length>0&&(n+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(n+="an "),n+=`${a[0]}`;break;case 2:n+=`one of ${a[0]} or ${a[1]}`;break;default:{let e=a.pop();n+=`one of ${a.join(", ")}, or ${e}`}}if(null==r)n+=`. Received ${r}`;else if("function"==typeof r&&r.name)n+=`. Received function ${r.name}`;else if("object"==typeof r){var d;if(null!==(d=r.constructor)&&void 0!==d&&d.name)n+=`. Received an instance of ${r.constructor.name}`;else{let e=i(r,{depth:-1});n+=`. Received ${e}`}}else{let e=i(r,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),n+=`. Received type ${typeof r} (${e})`}return n},TypeError),h("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=i(t);n.length>128&&(n=n.slice(0,128)+"...");let o=e.includes(".")?"property":"argument";return`The ${o} '${e}' ${r}. Received ${n}`},TypeError),h("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;let i=null!=r&&null!==(n=r.constructor)&&void 0!==n&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${e} to be returned from the "${t}" function but got ${i}.`},TypeError),h("ERR_MISSING_ARGS",(...e)=>{let t;c(e.length>0,"At least one arg needs to be specified");let r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(e=>`"${e}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{let r=e.pop();t+=`The ${e.join(", ")}, and ${r} arguments`}}return`${t} must be specified`},TypeError),h("ERR_OUT_OF_RANGE",(e,t,r)=>{let n;return c(t,'Missing "range" argument'),Number.isInteger(r)&&Math.abs(r)>4294967296?n=f(String(r)):"bigint"==typeof r?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=f(n)),n+="n"):n=i(r),`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError),h("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),h("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),h("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),h("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),h("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),h("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),h("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),h("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),h("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),h("ERR_STREAM_WRITE_AFTER_END","write after end",Error),h("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:b,aggregateTwoErrors:p(function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;let r=new l([t,e],t.message);return r.code=t.code,r}return e||t}),hideStackFrames:p,codes:d}},56832:(e,t,r)=>{"use strict";let n=r(76162);if(n&&"disable"===process.env.READABLE_STREAM){let t=n.promises;e.exports._uint8ArrayToBuffer=n._uint8ArrayToBuffer,e.exports._isUint8Array=n._isUint8Array,e.exports.isDisturbed=n.isDisturbed,e.exports.isErrored=n.isErrored,e.exports.isReadable=n.isReadable,e.exports.Readable=n.Readable,e.exports.Writable=n.Writable,e.exports.Duplex=n.Duplex,e.exports.Transform=n.Transform,e.exports.PassThrough=n.PassThrough,e.exports.addAbortSignal=n.addAbortSignal,e.exports.finished=n.finished,e.exports.destroy=n.destroy,e.exports.pipeline=n.pipeline,e.exports.compose=n.compose,Object.defineProperty(n,"promises",{configurable:!0,enumerable:!0,get:()=>t}),e.exports.Stream=n.Stream}else{let t=r(52900),n=r(68290),i=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=i,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get:()=>n}),e.exports.Stream=t.Stream}e.exports.default=e.exports},19472:e=>{"use strict";e.exports={ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,r)=>e.slice(t,r),Error,FunctionPrototypeCall:(e,t,...r)=>e.call(t,...r),FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,r)=>Object.defineProperty(e,t,r),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,r)=>e.then(t,r),PromiseReject:e=>Promise.reject(e),PromiseResolve:e=>Promise.resolve(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String,StringPrototypeSlice:(e,t,r)=>e.slice(t,r),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(e,t,r)=>e.set(t,r),Boolean:Boolean,Uint8Array}},449:(e,t,r)=>{"use strict";let n=r(78893),{kResistStopPropagation:i,SymbolDispose:o}=r(19472),AbortSignal=globalThis.AbortSignal||r(54769).AbortSignal,l=globalThis.AbortController||r(54769).AbortController,a=Object.getPrototypeOf(async function(){}).constructor,s=globalThis.Blob||n.Blob,u=(e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new ERR_INVALID_ARG_TYPE(t,"AbortSignal",e)},d=(e,t)=>{if("function"!=typeof e)throw new ERR_INVALID_ARG_TYPE(t,"Function",e)};class c extends Error{constructor(e){if(!Array.isArray(e))throw TypeError(`Expected input to be an Array, got ${typeof e}`);let t="";for(let r=0;r<e.length;r++)t+=`    ${e[r].stack}
`;super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:c,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...r){t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}},promisify:e=>new Promise((t,r)=>{e((e,...n)=>e?r(e):t(...n))}),debuglog:()=>function(){},format:(e,...t)=>e.replace(/%([sdifj])/g,function(...[e,r]){let n=t.shift();if("f"===r)return n.toFixed(6);if("j"===r)return JSON.stringify(n);if("s"!==r||"object"!=typeof n)return n.toString();{let e=n.constructor!==Object?n.constructor.name:"";return`${e} {}`.trim()}}),inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":if(isNaN(e))return"NaN";if(Object.is(e,-0))return String(e);return e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}},types:{isAsyncFunction:e=>e instanceof a,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:void 0!==s?function(e){return e instanceof s}:function(e){return!1},deprecate:(e,t)=>e,addAbortListener:r(17702).addAbortListener||function(e,t){let r;if(void 0===e)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",e);return u(e,"signal"),d(t,"listener"),e.aborted?queueMicrotask(()=>t()):(e.addEventListener("abort",t,{__proto__:null,once:!0,[i]:!0}),r=()=>{e.removeEventListener("abort",t)}),{__proto__:null,[o](){var e;null===(e=r)||void 0===e||e()}}},AbortSignalAny:AbortSignal.any||function(e){if(1===e.length)return e[0];let t=new l,r=()=>t.abort();return e.forEach(e=>{u(e,"signals"),e.addEventListener("abort",r,{once:!0})}),t.signal.addEventListener("abort",()=>{e.forEach(e=>e.removeEventListener("abort",r))},{once:!0}),t.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},52900:(e,t,r)=>{"use strict";let{Buffer:n}=r(78893),{ObjectDefineProperty:i,ObjectKeys:o,ReflectApply:l}=r(19472),{promisify:{custom:a}}=r(449),{streamReturningOperators:s,promiseReturningOperators:u}=r(55714),{codes:{ERR_ILLEGAL_CONSTRUCTOR:d}}=r(42782),c=r(61442),{setDefaultHighWaterMark:f,getDefaultHighWaterMark:h}=r(70301),{pipeline:p}=r(89121),{destroyer:b}=r(63346),y=r(90920),g=r(68290),w=r(95975),m=e.exports=r(80899).Stream;for(let e of(m.isDestroyed=w.isDestroyed,m.isDisturbed=w.isDisturbed,m.isErrored=w.isErrored,m.isReadable=w.isReadable,m.isWritable=w.isWritable,m.Readable=r(36412),o(s))){let t=s[e];function _(...e){if(new.target)throw d();return m.Readable.from(l(t,this,e))}i(_,"name",{__proto__:null,value:t.name}),i(_,"length",{__proto__:null,value:t.length}),i(m.Readable.prototype,e,{__proto__:null,value:_,enumerable:!1,configurable:!0,writable:!0})}for(let e of o(u)){let t=u[e];function _(...e){if(new.target)throw d();return l(t,this,e)}i(_,"name",{__proto__:null,value:t.name}),i(_,"length",{__proto__:null,value:t.length}),i(m.Readable.prototype,e,{__proto__:null,value:_,enumerable:!1,configurable:!0,writable:!0})}m.Writable=r(67973),m.Duplex=r(6011),m.Transform=r(70466),m.PassThrough=r(63994),m.pipeline=p;let{addAbortSignal:v}=r(81799);m.addAbortSignal=v,m.finished=y,m.destroy=b,m.compose=c,m.setDefaultHighWaterMark=f,m.getDefaultHighWaterMark=h,i(m,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>g}),i(p,a,{__proto__:null,enumerable:!0,get:()=>g.pipeline}),i(y,a,{__proto__:null,enumerable:!0,get:()=>g.finished}),m.Stream=m,m._isUint8Array=function(e){return e instanceof Uint8Array},m._uint8ArrayToBuffer=function(e){return n.from(e.buffer,e.byteOffset,e.byteLength)}},68290:(e,t,r)=>{"use strict";let{ArrayPrototypePop:n,Promise:i}=r(19472),{isIterable:o,isNodeStream:l,isWebStream:a}=r(95975),{pipelineImpl:s}=r(89121),{finished:u}=r(90920);r(52900),e.exports={finished:u,pipeline:function(...e){return new i((t,r)=>{let i,u;let d=e[e.length-1];if(d&&"object"==typeof d&&!l(d)&&!o(d)&&!a(d)){let t=n(e);i=t.signal,u=t.end}s(e,(e,n)=>{e?r(e):t(n)},{signal:i,end:u})})}}},9185:(e,t,r)=>{let n=r(98778),i=r(95305),{Stream:o}=r(78995),{withAutomaticRetries:l,validateWebhook:a}=r(87895),s=r(2193),u=r(16693),d=r(2441),c=r(9046),f=r(78212),h=r(16915),p=r(29019),b=r(67930),y=r(69637);class g{constructor(e={}){this.auth=e.auth||process.env.REPLICATE_API_TOKEN,this.userAgent=e.userAgent||`replicate-javascript/${y.version}`,this.baseUrl=e.baseUrl||"https://api.replicate.com/v1",this.fetch=e.fetch||globalThis.fetch,this.accounts={current:s.current.bind(this)},this.collections={list:u.list.bind(this),get:u.get.bind(this)},this.deployments={get:d.get.bind(this),predictions:{create:d.predictions.create.bind(this)}},this.hardware={list:c.list.bind(this)},this.models={get:f.get.bind(this),list:f.list.bind(this),create:f.create.bind(this),versions:{list:f.versions.list.bind(this),get:f.versions.get.bind(this)}},this.predictions={create:h.create.bind(this),get:h.get.bind(this),cancel:h.cancel.bind(this),list:h.list.bind(this)},this.trainings={create:p.create.bind(this),get:p.get.bind(this),cancel:p.cancel.bind(this),list:p.list.bind(this)},this.webhooks={default:{secret:{get:b.default.secret.get.bind(this)}}}}async run(e,t,r){let n;let{wait:o,...l}=t,a=i.parse(e);if(a.version)n=await this.predictions.create({...l,version:a.version});else if(a.owner&&a.name)n=await this.predictions.create({...l,model:`${a.owner}/${a.name}`});else throw Error("Invalid model version identifier");r&&r(n);let{signal:s}=t;if(n=await this.wait(n,o||{},async e=>(r&&r(e),!!s&&!!s.aborted&&(await this.predictions.cancel(e.id),!0))),r&&r(n),"failed"===n.status)throw Error(`Prediction failed: ${n.error}`);return n.output}async request(e,t){let r;let{auth:i,baseUrl:o,userAgent:a}=this;e instanceof URL?r=e:r=new URL(e.startsWith("/")?e.slice(1):e,o.endsWith("/")?o:`${o}/`);let{method:s="GET",params:u={},data:d}=t;for(let[e,t]of Object.entries(u))r.searchParams.append(e,t);let c={};if(i&&(c.Authorization=`Token ${i}`),c["Content-Type"]="application/json",c["User-Agent"]=a,t.headers)for(let[e,r]of Object.entries(t.headers))c[e]=r;let f={method:s,headers:c,body:d?JSON.stringify(d):void 0},h=this.fetch,p=await l(async()=>h(r,f),{shouldRetry:"GET"===s?e=>429===e.status||e.status>=500:e=>429===e.status});if(!p.ok){let e=new Request(r,f),t=await p.text();throw new n(`Request to ${r} failed with status ${p.status} ${p.statusText}: ${t}.`,e,p)}return p}async *stream(e,t){let r;let{wait:n,...l}=t,a=i.parse(e);if(a.version)r=await this.predictions.create({...l,version:a.version,stream:!0});else if(a.owner&&a.name)r=await this.predictions.create({...l,model:`${a.owner}/${a.name}`,stream:!0});else throw Error("Invalid model version identifier");if(r.urls&&r.urls.stream){let{signal:e}=t,n=new o(r.urls.stream,{signal:e});yield*n}else throw Error("Prediction does not support streaming")}async *paginate(e){let t=await e();yield t.results,t.next&&(yield*this.paginate(()=>this.request(t.next,{method:"GET"}).then(e=>e.json())))}async wait(e,t,r){let{id:n}=e;if(!n)throw Error("Invalid prediction");if("succeeded"===e.status||"failed"===e.status||"canceled"===e.status)return e;let i=e=>new Promise(t=>setTimeout(t,e)),o=t&&t.interval||500,l=await this.predictions.get(n);for(;"succeeded"!==l.status&&"failed"!==l.status&&"canceled"!==l.status&&(!r||await r(l)!==!0);)await i(o),l=await this.predictions.get(e.id);if("failed"===l.status)throw Error(`Prediction failed: ${l.error}`);return l}}e.exports=g,e.exports.validateWebhook=a},2193:e=>{async function t(){return(await this.request("/account",{method:"GET"})).json()}e.exports={current:t}},16693:e=>{async function t(e){return(await this.request(`/collections/${e}`,{method:"GET"})).json()}async function r(){return(await this.request("/collections",{method:"GET"})).json()}e.exports={get:t,list:r}},2441:(e,t,r)=>{let{transformFileInputs:n}=r(87895);async function i(e,t,r){let{stream:i,input:o,...l}=r;if(l.webhook)try{new URL(l.webhook)}catch(e){throw Error("Invalid webhook URL")}return(await this.request(`/deployments/${e}/${t}/predictions`,{method:"POST",data:{...l,input:await n(o),stream:i}})).json()}async function o(e,t){return(await this.request(`/deployments/${e}/${t}`,{method:"GET"})).json()}e.exports={predictions:{create:i},get:o}},98778:e=>{class t extends Error{constructor(e,t,r){super(e),this.name="ApiError",this.request=t,this.response=r}}e.exports=t},9046:e=>{async function t(){return(await this.request("/hardware",{method:"GET"})).json()}e.exports={list:t}},95305:e=>{class t{constructor(e,t,r=null){this.owner=e,this.name=t,this.version=r}static parse(e){let r=e.match(/^(?<owner>[^/]+)\/(?<name>[^/:]+)(:(?<version>.+))?$/);if(!r)throw Error(`Invalid reference to model version: ${e}. Expected format: owner/name or owner/name:version`);let{owner:n,name:i,version:o}=r.groups;return new t(n,i,o)}}e.exports=t},78212:e=>{async function t(e,t){return(await this.request(`/models/${e}/${t}`,{method:"GET"})).json()}async function r(e,t){return(await this.request(`/models/${e}/${t}/versions`,{method:"GET"})).json()}async function n(e,t,r){return(await this.request(`/models/${e}/${t}/versions/${r}`,{method:"GET"})).json()}async function i(){return(await this.request("/models",{method:"GET"})).json()}async function o(e,t,r){let n={owner:e,name:t,...r};return(await this.request("/models",{method:"POST",data:n})).json()}e.exports={get:t,list:i,create:o,versions:{list:r,get:n}}},16915:(e,t,r)=>{let{transformFileInputs:n}=r(87895);async function i(e){let t;let{model:r,version:i,stream:o,input:l,...a}=e;if(a.webhook)try{new URL(a.webhook)}catch(e){throw Error("Invalid webhook URL")}if(i)t=await this.request("/predictions",{method:"POST",data:{...a,input:await n(l),version:i,stream:o}});else if(r)t=await this.request(`/models/${r}/predictions`,{method:"POST",data:{...a,input:await n(l),stream:o}});else throw Error("Either model or version must be specified");return t.json()}async function o(e){return(await this.request(`/predictions/${e}`,{method:"GET"})).json()}async function l(e){return(await this.request(`/predictions/${e}/cancel`,{method:"POST"})).json()}async function a(){return(await this.request("/predictions",{method:"GET"})).json()}e.exports={create:i,get:o,cancel:l,list:a}},78995:(e,t,r)=>{let n;try{n=r(56832).Readable}catch(e){try{n=r(76162).Readable}catch(e){n=null}}class i{constructor(e,t,r,n){this.event=e,this.data=t,this.id=r,this.retry=n}toString(){return"output"===this.event?this.data:""}}class o extends n{constructor(e,t){if(!n)throw Error("Readable streams are not supported. Please use Node.js 18 or later, or install the readable-stream package.");super(),this.url=e,this.options=t,this.event=null,this.data=[],this.lastEventId=null,this.retry=null}decode(e){if(!e){if(!this.event&&!this.data.length&&!this.lastEventId)return null;let e=new i(this.event,this.data.join("\n"),this.lastEventId);return this.event=null,this.data=[],this.retry=null,e}if(e.startsWith(":"))return null;let[t,r]=e.split(": ");return"event"===t?this.event=r:"data"===t?this.data.push(r):"id"===t&&(this.lastEventId=r),null}async *[Symbol.asyncIterator](){for await(let e of(await fetch(this.url,{...this.options,headers:{Accept:"text/event-stream"}})).body)for(let t of new TextDecoder("utf-8").decode(e).split("\n")){let e=this.decode(t);if(e){if("error"===e.event)throw Error(e.data);if(yield e,"done"===e.event)return}}}}e.exports={Stream:o,ServerSentEvent:i}},29019:e=>{async function t(e,t,r,n){let{...i}=n;if(i.webhook)try{new URL(i.webhook)}catch(e){throw Error("Invalid webhook URL")}return(await this.request(`/models/${e}/${t}/versions/${r}/trainings`,{method:"POST",data:i})).json()}async function r(e){return(await this.request(`/trainings/${e}`,{method:"GET"})).json()}async function n(e){return(await this.request(`/trainings/${e}/cancel`,{method:"POST"})).json()}async function i(){return(await this.request("/trainings",{method:"GET"})).json()}e.exports={create:t,get:r,cancel:n,list:i}},87895:(e,t,r)=>{let n=r(6005),i=r(98778);async function o(e,t){let{id:r,timestamp:i,body:o,signature:l}=e,a=t||e.secret;if(e&&e.headers&&e.body&&(r=e.headers.get("webhook-id"),i=e.headers.get("webhook-timestamp"),l=e.headers.get("webhook-signature"),o=e.body),o instanceof ReadableStream||o.readable)try{let e=[];for await(let t of o)e.push(Buffer.from(t));o=Buffer.concat(e).toString("utf8")}catch(e){throw Error(`Error reading body: ${e.message}`)}else if(o instanceof Buffer)o=o.toString("utf8");else if("string"!=typeof o)throw Error("Invalid body type");if(!r||!i||!l)throw Error("Missing required webhook headers");if(!o)throw Error("Missing required body");if(!a)throw Error("Missing required secret");let s=`${r}.${i}.${o}`,u=Buffer.from(a.split("_")[1],"base64"),d=n.createHmac("sha256",u).update(s).digest("base64");return l.split(" ").map(e=>e.split(",")[1]).some(e=>e===d)}async function l(e,t={}){let r=t.shouldRetry||(()=>!1),n=t.maxRetries||5,o=t.interval||500,l=t.jitter||100,a=e=>new Promise(t=>setTimeout(t,e)),s=0;do{let u=o*2**s+Math.random()*l;try{let t=await e();if(t.ok||!r(t))return t}catch(e){if(e instanceof i){let t=e.response.headers.get("Retry-After");if(t){if(Number.isInteger(t))u=1e3*t;else{let e=new Date(t);Number.isNaN(e.getTime())||(u=e.getTime()-new Date().getTime())}}}}Number.isInteger(n)&&n>0&&(Number.isInteger(u)&&u>0&&await a(o*2**(t.maxRetries-n)),s+=1)}while(s<n);return e()}async function a(e){let t=0;return await s(e,async e=>{let r,n;if(e instanceof Blob)r=Buffer.from(await e.arrayBuffer()),n=e.type;else{if(!Buffer.isBuffer(e))return e;r=e}if((t+=r.byteLength)>1e7)throw Error(`Combined filesize of prediction ${t} bytes exceeds 10mb limit for inline encoding, please provide URLs instead`);let i=r.toString("base64");return n=n??"application/octet-stream",`data:${n};base64,${i}`})}async function s(e,t){if(Array.isArray(e)){let r=[];for(let n of e)r=await s(n,t);return r}if(function(e){if(!("object"==typeof e&&null!==e)||"[object Object]"!==String(e))return!1;let t=Object.getPrototypeOf(e);if(null===t)return!0;let r=Object.prototype.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Function.prototype.toString.call(r)===Function.prototype.toString.call(Object)}(e)){let r={};for(let n of Object.keys(e))r[n]=await s(e[n],t);return r}return await t(e)}e.exports={transformFileInputs:a,validateWebhook:o,withAutomaticRetries:l}},67930:e=>{async function t(){return(await this.request("/webhooks/default/secret",{method:"GET"})).json()}e.exports={default:{secret:{get:t}}}},69637:e=>{"use strict";e.exports=JSON.parse('{"name":"replicate","version":"0.27.1","description":"JavaScript client for Replicate","repository":"github:replicate/replicate-javascript","homepage":"https://github.com/replicate/replicate-javascript#readme","bugs":"https://github.com/replicate/replicate-javascript/issues","license":"Apache-2.0","main":"index.js","type":"commonjs","types":"index.d.ts","files":["CONTRIBUTING.md","LICENSE","README.md","index.d.ts","index.js","lib/**/*.js","package.json"],"engines":{"node":">=18.0.0","npm":">=7.19.0","git":">=2.11.0","yarn":">=1.7.0"},"scripts":{"check":"tsc","format":"biome format . --write","lint-biome":"biome lint .","lint-publint":"publint","lint":"npm run lint-biome && npm run lint-publint","test":"jest"},"optionalDependencies":{"readable-stream":">=4.0.0"},"devDependencies":{"@biomejs/biome":"^1.4.1","@types/jest":"^29.5.3","@typescript-eslint/eslint-plugin":"^5.56.0","cross-fetch":"^3.1.5","jest":"^29.6.2","nock":"^13.3.0","publint":"^0.2.7","ts-jest":"^29.1.0","typescript":"^5.0.2"}}')}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[276,982,70],()=>r(58771));module.exports=n})();